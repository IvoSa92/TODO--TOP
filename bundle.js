/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/DOM.js":
/*!********************!*\
  !*** ./src/DOM.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst DomElements = {\n  //container:\n  currentContent: document.querySelector(\".currentContent\"),\n  container: document.querySelector(\".container\"),\n  allViewPage: document.querySelector(\".all-view\"),\n  tomorrowViewPage: document.querySelector(\".tomorrow-view\"),\n  todayViewPage: document.querySelector(\".today-view\"),\n  upcomingViewPage: document.querySelector(\".upcoming-view\"),\n  projects: document.querySelector(\".projects\"),\n  addTaskTitle: document.querySelector(\".add-task-title\"),\n  //Buttons:\n  addTaskButton: document.querySelector(\".add-task\"),\n  allTasksButton: document.querySelector(\".all-tasks\"),\n  todayTasksButton: document.querySelector(\".today-tasks\"),\n  tomorrowTasksButton: document.querySelector(\".tomorrow-tasks\"),\n  upcomingTasksButton: document.querySelector(\".upcoming-tasks\"),\n  newProjectButton: document.querySelector(\".new-project-button\"),\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DomElements);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvRE9NLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby0tdG9wLy4vc3JjL0RPTS5qcz9mZWIxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERvbUVsZW1lbnRzID0ge1xuICAvL2NvbnRhaW5lcjpcbiAgY3VycmVudENvbnRlbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VycmVudENvbnRlbnRcIiksXG4gIGNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJcIiksXG4gIGFsbFZpZXdQYWdlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFsbC12aWV3XCIpLFxuICB0b21vcnJvd1ZpZXdQYWdlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvbW9ycm93LXZpZXdcIiksXG4gIHRvZGF5Vmlld1BhZ2U6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9kYXktdmlld1wiKSxcbiAgdXBjb21pbmdWaWV3UGFnZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51cGNvbWluZy12aWV3XCIpLFxuICBwcm9qZWN0czogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKSxcbiAgYWRkVGFza1RpdGxlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLXRpdGxlXCIpLFxuICAvL0J1dHRvbnM6XG4gIGFkZFRhc2tCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2tcIiksXG4gIGFsbFRhc2tzQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFsbC10YXNrc1wiKSxcbiAgdG9kYXlUYXNrc0J1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RheS10YXNrc1wiKSxcbiAgdG9tb3Jyb3dUYXNrc0J1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b21vcnJvdy10YXNrc1wiKSxcbiAgdXBjb21pbmdUYXNrc0J1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51cGNvbWluZy10YXNrc1wiKSxcbiAgbmV3UHJvamVjdEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctcHJvamVjdC1idXR0b25cIiksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBEb21FbGVtZW50cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/DOM.js\n");

/***/ }),

/***/ "./src/handleViewOptions.js":
/*!**********************************!*\
  !*** ./src/handleViewOptions.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _DOM__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DOM */ \"./src/DOM.js\");\n/* harmony import */ var _newTaskManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./newTaskManager */ \"./src/newTaskManager.js\");\n\n\n\nclass HandleNavButtons {\n  static currentPage = \"allTasks\";\n  static viewAllTasks = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].allViewPage;\n  constructor(taskManager) {\n    this.taskManager = taskManager;\n    //link buttons\n    this.allTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].allTasksButton;\n    this.tomorrowTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].tomorrowTasksButton;\n    this.todayTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].todayTasksButton;\n    this.upcomingTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].upcomingTasksButton;\n    this.navButtons = [\n      this.allTasksButton,\n      this.todayTasksButton,\n      this.tomorrowTasksButton,\n      this.upcomingTasksButton,\n    ];\n    //link containers\n    this.currentContent = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentContent;\n    this.viewAllTasks = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].allViewPage;\n    this.viewTodayTasks = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].todayViewPage;\n    this.viewTomorrowTasks = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].tomorrowViewPage;\n    this.viewUpcomingTasks = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].upcomingViewPage;\n    this.sideNavPages = Array.from(document.querySelectorAll(\".task-page\"));\n\n    //function to add the event listeners\n    this.initializeEventListeners();\n  }\n  //setting event listeners up\n  initializeEventListeners() {\n    this.allTasksButton.addEventListener(\"click\", () => this.displayAllTasks());\n    this.todayTasksButton.addEventListener(\"click\", () =>\n      this.displayTodayTasks()\n    );\n    this.tomorrowTasksButton.addEventListener(\"click\", () =>\n      this.displayTomorrowTasks()\n    );\n    this.upcomingTasksButton.addEventListener(\"click\", () =>\n      this.displayUpcomingTasks()\n    );\n  }\n\n  // function for the page with all tasks sorted by priority\n  displayAllTasks() {\n    // hide all other pages\n    this.sideNavPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    const projectPages = document.querySelectorAll(\".project-page\");\n    projectPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    this.viewAllTasks.style.display = \"flex\";\n    HandleNavButtons.currentPage = \"allTasks\";\n    this.taskManager.updateScreen();\n  }\n\n  // function to display the page with all tasks with the date of today\n  displayTodayTasks() {\n    // hide all other pages\n    this.sideNavPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    const projectPages = document.querySelectorAll(\".project-page\");\n    projectPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    this.viewTodayTasks.style.display = \"flex\";\n    HandleNavButtons.currentPage = \"todayTasks\";\n    this.taskManager.updateScreen();\n  }\n\n  // function to display the page with all tasks with the date of tomorrow\n  displayTomorrowTasks() {\n    // hide all other pages\n    this.sideNavPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    const projectPages = document.querySelectorAll(\".project-page\");\n    projectPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    this.viewTomorrowTasks.style.display = \"flex\";\n    HandleNavButtons.currentPage = \"tomorrowTasks\";\n    this.taskManager.updateScreen();\n  }\n\n  // function to display the page with alls tasks with the date of tomorrow - future\n  displayUpcomingTasks() {\n    // hide all other pages\n    this.sideNavPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    const projectPages = document.querySelectorAll(\".project-page\");\n    projectPages.forEach((page) => {\n      page.style.display = \"none\";\n    });\n\n    this.viewUpcomingTasks.style.display = \"flex\";\n    HandleNavButtons.currentPage = \"upcomingTasks\";\n    this.taskManager.updateScreen();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HandleNavButtons);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaGFuZGxlVmlld09wdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBQ2M7O0FBRTlDO0FBQ0E7QUFDQSx3QkFBd0IsNENBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDRDQUFXO0FBQ3JDLCtCQUErQiw0Q0FBVztBQUMxQyw0QkFBNEIsNENBQVc7QUFDdkMsK0JBQStCLDRDQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDRDQUFXO0FBQ3JDLHdCQUF3Qiw0Q0FBVztBQUNuQywwQkFBMEIsNENBQVc7QUFDckMsNkJBQTZCLDRDQUFXO0FBQ3hDLDZCQUE2Qiw0Q0FBVztBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsZ0JBQWdCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLS10b3AvLi9zcmMvaGFuZGxlVmlld09wdGlvbnMuanM/NjhkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRG9tRWxlbWVudHMgZnJvbSBcIi4vRE9NXCI7XG5pbXBvcnQgTmV3VGFza01hbmFnZXIgZnJvbSBcIi4vbmV3VGFza01hbmFnZXJcIjtcblxuY2xhc3MgSGFuZGxlTmF2QnV0dG9ucyB7XG4gIHN0YXRpYyBjdXJyZW50UGFnZSA9IFwiYWxsVGFza3NcIjtcbiAgc3RhdGljIHZpZXdBbGxUYXNrcyA9IERvbUVsZW1lbnRzLmFsbFZpZXdQYWdlO1xuICBjb25zdHJ1Y3Rvcih0YXNrTWFuYWdlcikge1xuICAgIHRoaXMudGFza01hbmFnZXIgPSB0YXNrTWFuYWdlcjtcbiAgICAvL2xpbmsgYnV0dG9uc1xuICAgIHRoaXMuYWxsVGFza3NCdXR0b24gPSBEb21FbGVtZW50cy5hbGxUYXNrc0J1dHRvbjtcbiAgICB0aGlzLnRvbW9ycm93VGFza3NCdXR0b24gPSBEb21FbGVtZW50cy50b21vcnJvd1Rhc2tzQnV0dG9uO1xuICAgIHRoaXMudG9kYXlUYXNrc0J1dHRvbiA9IERvbUVsZW1lbnRzLnRvZGF5VGFza3NCdXR0b247XG4gICAgdGhpcy51cGNvbWluZ1Rhc2tzQnV0dG9uID0gRG9tRWxlbWVudHMudXBjb21pbmdUYXNrc0J1dHRvbjtcbiAgICB0aGlzLm5hdkJ1dHRvbnMgPSBbXG4gICAgICB0aGlzLmFsbFRhc2tzQnV0dG9uLFxuICAgICAgdGhpcy50b2RheVRhc2tzQnV0dG9uLFxuICAgICAgdGhpcy50b21vcnJvd1Rhc2tzQnV0dG9uLFxuICAgICAgdGhpcy51cGNvbWluZ1Rhc2tzQnV0dG9uLFxuICAgIF07XG4gICAgLy9saW5rIGNvbnRhaW5lcnNcbiAgICB0aGlzLmN1cnJlbnRDb250ZW50ID0gRG9tRWxlbWVudHMuY3VycmVudENvbnRlbnQ7XG4gICAgdGhpcy52aWV3QWxsVGFza3MgPSBEb21FbGVtZW50cy5hbGxWaWV3UGFnZTtcbiAgICB0aGlzLnZpZXdUb2RheVRhc2tzID0gRG9tRWxlbWVudHMudG9kYXlWaWV3UGFnZTtcbiAgICB0aGlzLnZpZXdUb21vcnJvd1Rhc2tzID0gRG9tRWxlbWVudHMudG9tb3Jyb3dWaWV3UGFnZTtcbiAgICB0aGlzLnZpZXdVcGNvbWluZ1Rhc2tzID0gRG9tRWxlbWVudHMudXBjb21pbmdWaWV3UGFnZTtcbiAgICB0aGlzLnNpZGVOYXZQYWdlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YXNrLXBhZ2VcIikpO1xuXG4gICAgLy9mdW5jdGlvbiB0byBhZGQgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgIHRoaXMuaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbiAgLy9zZXR0aW5nIGV2ZW50IGxpc3RlbmVycyB1cFxuICBpbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5hbGxUYXNrc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5kaXNwbGF5QWxsVGFza3MoKSk7XG4gICAgdGhpcy50b2RheVRhc2tzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5kaXNwbGF5VG9kYXlUYXNrcygpXG4gICAgKTtcbiAgICB0aGlzLnRvbW9ycm93VGFza3NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLmRpc3BsYXlUb21vcnJvd1Rhc2tzKClcbiAgICApO1xuICAgIHRoaXMudXBjb21pbmdUYXNrc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgICAgIHRoaXMuZGlzcGxheVVwY29taW5nVGFza3MoKVxuICAgICk7XG4gIH1cblxuICAvLyBmdW5jdGlvbiBmb3IgdGhlIHBhZ2Ugd2l0aCBhbGwgdGFza3Mgc29ydGVkIGJ5IHByaW9yaXR5XG4gIGRpc3BsYXlBbGxUYXNrcygpIHtcbiAgICAvLyBoaWRlIGFsbCBvdGhlciBwYWdlc1xuICAgIHRoaXMuc2lkZU5hdlBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvamVjdFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LXBhZ2VcIik7XG4gICAgcHJvamVjdFBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gICAgdGhpcy52aWV3QWxsVGFza3Muc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIEhhbmRsZU5hdkJ1dHRvbnMuY3VycmVudFBhZ2UgPSBcImFsbFRhc2tzXCI7XG4gICAgdGhpcy50YXNrTWFuYWdlci51cGRhdGVTY3JlZW4oKTtcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uIHRvIGRpc3BsYXkgdGhlIHBhZ2Ugd2l0aCBhbGwgdGFza3Mgd2l0aCB0aGUgZGF0ZSBvZiB0b2RheVxuICBkaXNwbGF5VG9kYXlUYXNrcygpIHtcbiAgICAvLyBoaWRlIGFsbCBvdGhlciBwYWdlc1xuICAgIHRoaXMuc2lkZU5hdlBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvamVjdFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LXBhZ2VcIik7XG4gICAgcHJvamVjdFBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gICAgdGhpcy52aWV3VG9kYXlUYXNrcy5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgSGFuZGxlTmF2QnV0dG9ucy5jdXJyZW50UGFnZSA9IFwidG9kYXlUYXNrc1wiO1xuICAgIHRoaXMudGFza01hbmFnZXIudXBkYXRlU2NyZWVuKCk7XG4gIH1cblxuICAvLyBmdW5jdGlvbiB0byBkaXNwbGF5IHRoZSBwYWdlIHdpdGggYWxsIHRhc2tzIHdpdGggdGhlIGRhdGUgb2YgdG9tb3Jyb3dcbiAgZGlzcGxheVRvbW9ycm93VGFza3MoKSB7XG4gICAgLy8gaGlkZSBhbGwgb3RoZXIgcGFnZXNcbiAgICB0aGlzLnNpZGVOYXZQYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICBwYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KTtcblxuICAgIGNvbnN0IHByb2plY3RQYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC1wYWdlXCIpO1xuICAgIHByb2plY3RQYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICBwYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9KTtcblxuICAgIHRoaXMudmlld1RvbW9ycm93VGFza3Muc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIEhhbmRsZU5hdkJ1dHRvbnMuY3VycmVudFBhZ2UgPSBcInRvbW9ycm93VGFza3NcIjtcbiAgICB0aGlzLnRhc2tNYW5hZ2VyLnVwZGF0ZVNjcmVlbigpO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gdG8gZGlzcGxheSB0aGUgcGFnZSB3aXRoIGFsbHMgdGFza3Mgd2l0aCB0aGUgZGF0ZSBvZiB0b21vcnJvdyAtIGZ1dHVyZVxuICBkaXNwbGF5VXBjb21pbmdUYXNrcygpIHtcbiAgICAvLyBoaWRlIGFsbCBvdGhlciBwYWdlc1xuICAgIHRoaXMuc2lkZU5hdlBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvamVjdFBhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0LXBhZ2VcIik7XG4gICAgcHJvamVjdFBhZ2VzLmZvckVhY2goKHBhZ2UpID0+IHtcbiAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG4gICAgdGhpcy52aWV3VXBjb21pbmdUYXNrcy5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgSGFuZGxlTmF2QnV0dG9ucy5jdXJyZW50UGFnZSA9IFwidXBjb21pbmdUYXNrc1wiO1xuICAgIHRoaXMudGFza01hbmFnZXIudXBkYXRlU2NyZWVuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFuZGxlTmF2QnV0dG9ucztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/handleViewOptions.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DOM__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DOM */ \"./src/DOM.js\");\n/* harmony import */ var _newTaskManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./newTaskManager */ \"./src/newTaskManager.js\");\n/* harmony import */ var _handleViewOptions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./handleViewOptions */ \"./src/handleViewOptions.js\");\n/* harmony import */ var _projectManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./projectManager */ \"./src/projectManager.js\");\nconsole.log(\"hello\");\n\n\n\n\n\n\nconst newTaskManager = new _newTaskManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst handleSideNavButtons = new _handleViewOptions__WEBPACK_IMPORTED_MODULE_2__[\"default\"](newTaskManager);\nconst projectManager = new _projectManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"](newTaskManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUFFZ0M7QUFDYztBQUNLO0FBQ0w7O0FBRTlDLDJCQUEyQix1REFBYztBQUN6QyxpQ0FBaUMsMERBQWdCO0FBQ2pELDJCQUEyQix1REFBYyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tLXRvcC8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKFwiaGVsbG9cIik7XG5cbmltcG9ydCBEb21FbGVtZW50cyBmcm9tIFwiLi9ET01cIjtcbmltcG9ydCBOZXdUYXNrTWFuYWdlciBmcm9tIFwiLi9uZXdUYXNrTWFuYWdlclwiO1xuaW1wb3J0IEhhbmRsZU5hdkJ1dHRvbnMgZnJvbSBcIi4vaGFuZGxlVmlld09wdGlvbnNcIjtcbmltcG9ydCBQcm9qZWN0TWFuYWdlciBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlclwiO1xuXG5jb25zdCBuZXdUYXNrTWFuYWdlciA9IG5ldyBOZXdUYXNrTWFuYWdlcigpO1xuY29uc3QgaGFuZGxlU2lkZU5hdkJ1dHRvbnMgPSBuZXcgSGFuZGxlTmF2QnV0dG9ucyhuZXdUYXNrTWFuYWdlcik7XG5jb25zdCBwcm9qZWN0TWFuYWdlciA9IG5ldyBQcm9qZWN0TWFuYWdlcihuZXdUYXNrTWFuYWdlcik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/newTaskManager.js":
/*!*******************************!*\
  !*** ./src/newTaskManager.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _DOM__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DOM */ \"./src/DOM.js\");\n/* harmony import */ var _handleViewOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handleViewOptions */ \"./src/handleViewOptions.js\");\n\n\n\nclass NewTaskManager {\n  static instance = null;\n  static taskList = [];\n  static getTaskList() {\n    return NewTaskManager.taskList;\n  }\n\n  constructor() {\n    if (NewTaskManager.instance) {\n      return NewTaskManager.instance;\n    }\n    this.sideNav = document.querySelector(\".sideNav\");\n    this.formActive = false;\n    this.addTaskButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].addTaskButton;\n    this.addTaskTitle = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].addTaskTitle;\n    this.currentContent = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentContent;\n    this.allViewPage = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].allViewPage;\n    this.todaysTasksPage = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].todayViewPage;\n    this.tomorrowsTasksPage = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].tomorrowViewPage;\n    this.upcomingTasksPage = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].upcomingViewPage;\n    this.allTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].allTasksButton;\n    this.todayTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].todayTasksButton;\n    this.tomorrowTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].tomorrowTasksButton;\n    this.upcomingTasksButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].upcomingTasksButton;\n    this.counter = 1;\n    this.navButtons = [\n      this.allTasksButton,\n      this.todayTasksButton,\n      this.tomorrowTasksButton,\n      this.upcomingTasksButton,\n    ];\n\n    this.initializeEventListeners();\n    NewTaskManager.instance = this;\n    this.loadTasksFromStorage();\n    this.loadStartPage();\n  }\n\n  initializeEventListeners() {\n    this.addTaskButton.addEventListener(\"click\", () => this.newTaskForm());\n\n    this.addTaskButton.addEventListener(\"mouseenter\", () => {\n      this.addTaskTitle.style.opacity = \"1\";\n      this.addTaskTitle.style.transform = \"translateX(0)\";\n      this.addTaskTitle.style.zIndex = \"10\";\n    });\n\n    this.addTaskButton.addEventListener(\"mouseleave\", () => {\n      this.addTaskTitle.style.opacity = \"0\";\n      this.addTaskTitle.style.transform = \"translateX(100%)\";\n      this.addTaskTitle.style.zIndex = \"-1\";\n    });\n  }\n\n  // load the page of all tasks to display them directly from the storage\n  loadStartPage() {\n    _handleViewOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].viewAllTasks.style.display = \"flex\";\n    this.counterReset();\n  }\n\n  //function to save the taskList to the local storage\n  saveTasksToLocalStorage() {\n    const tasksData = NewTaskManager.taskList.map((task) => task.data);\n    localStorage.setItem(\"tasks\", JSON.stringify(tasksData));\n  }\n\n  //function to load the tasklist from the local storage and display them through updateScreen();\n  loadTasksFromStorage() {\n    const storedTasks = localStorage.getItem(\"tasks\");\n    if (storedTasks) {\n      const tasksData = JSON.parse(storedTasks);\n      tasksData.forEach((taskData) => {\n        const taskElement = this.createTaskCard(taskData);\n        NewTaskManager.taskList.push({ data: taskData, element: taskElement });\n      });\n      this.updateScreen();\n    }\n  }\n\n  counterReset() {\n    if (this.counter > 100) {\n      this.counter = 1;\n    }\n  }\n\n  //creates a new task form pop up window when user clicks on the plus icon\n  newTaskForm() {\n    // checks if the form is already displayed\n    if (this.formActive === false) {\n      this.formActive = true;\n      //remove all containers for the form pop up\n\n      //created the form to append\n      const newTaskForm = this.createFormElements();\n      // newTaskForm.classList.add(\"new-task\");\n      //creates the blurry background\n      const blurredScreen = document.createElement(\"div\");\n      blurredScreen.classList.add(\"blurred-screen\");\n\n      this.currentContent.append(newTaskForm, blurredScreen);\n    } else {\n      alert(\"Please fill out the displayed form\");\n    }\n  }\n\n  //creates the elements for the form\n  createFormElements() {\n    const newTaskForm = document.createElement(\"div\");\n    newTaskForm.classList.add(\"new-task\");\n\n    this.titleInput = this.createInputField(\"Title\", \"title\", \"text\");\n    this.dateInput = this.createInputField(\"Date\", \"date\", \"date\");\n    this.prioritySelect = this.createSelectField(\"priority-input\", [\n      \"High\",\n      \"Medium\",\n      \"Low\",\n    ]);\n    this.projectSelection = this.createProjectSelection();\n    this.descriptionInput = this.createDescriptionField(\"description\");\n\n    const buttonContainer = document.createElement(\"div\");\n    buttonContainer.classList.add(\"button-container\");\n\n    const submitButton = this.createButtons(\"Submit\", \"submit-button\");\n    submitButton.addEventListener(\"click\", () => {\n      this.handleSubmit();\n    });\n    const deleteButton = this.createButtons(\"Delete\", \"delete-button\");\n    deleteButton.addEventListener(\"click\", () => {\n      this.handleDelete();\n    });\n\n    buttonContainer.append(submitButton, deleteButton);\n\n    newTaskForm.append(\n      this.titleInput,\n      this.dateInput,\n      this.prioritySelect,\n      this.projectSelection,\n      this.descriptionInput,\n      buttonContainer\n    );\n\n    return newTaskForm;\n  }\n\n  //creates the input fields of the form\n  createInputField(headerText, inputClass, type) {\n    const inputContainer = document.createElement(\"div\");\n    inputContainer.classList.add(\"form-div\");\n\n    const inputHeader = document.createElement(\"label\");\n    inputHeader.textContent = headerText;\n    inputHeader.classList.add(`${inputClass}-caption`);\n\n    const input = document.createElement(\"input\");\n    input.type = type;\n    input.classList.add(`${inputClass}-input`, \"formInput\");\n\n    inputContainer.append(inputHeader, input);\n    return inputContainer;\n  }\n\n  //creates the select field of the form\n  createSelectField(selectClass, options) {\n    const inputContainer = document.createElement(\"div\");\n    inputContainer.classList.add(\"form-div\");\n\n    const label = document.createElement(\"label\");\n    label.textContent = \"Priority\";\n    label.classList.add(\"priority-caption\");\n\n    const select = document.createElement(\"select\");\n    select.classList.add(selectClass, \"formInput\");\n\n    options.forEach((optionText) => {\n      const option = document.createElement(\"option\");\n      option.value = optionText;\n      option.textContent = optionText;\n      select.appendChild(option);\n    });\n\n    inputContainer.append(label, select);\n    return inputContainer;\n  }\n\n  // creates the project selection field of the form\n  createProjectSelection() {\n    const projectContainer = document.createElement(\"div\");\n    projectContainer.classList.add(\"form-div\");\n\n    const label = document.createElement(\"label\");\n    label.classList.add(\"form-project-label\");\n    label.textContent = \"Project\";\n\n    const select = document.createElement(\"select\");\n    select.classList.add(\"form-project-select\");\n    select.classList.add(\"formInput\");\n\n    // search for all created projects in the DOM\n    const optionElements = Array.from(\n      document.querySelectorAll(\".new-project-nav-btn\")\n    );\n\n    //filter the elements for their innerHTML to add them to the selection\n    const innerHTMLArray = optionElements.map(function (element) {\n      return element.textContent;\n    });\n\n    //adding option for No Project\n    const noProject = \"No Project\";\n    innerHTMLArray.push(noProject);\n\n    innerHTMLArray.forEach((optionText) => {\n      const option = document.createElement(\"option\");\n      option.value = optionText;\n      option.textContent = optionText;\n      select.appendChild(option);\n    });\n\n    projectContainer.append(label, select);\n    return projectContainer;\n  }\n\n  //creates the description field of the form\n  createDescriptionField(descriptionClass) {\n    const descriptionContainer = document.createElement(\"div\");\n    descriptionContainer.classList.add(\"form-div\");\n\n    const label = document.createElement(\"label\");\n    label.classList.add(`${descriptionClass}-caption`);\n    label.textContent = \"Description\";\n\n    const textArea = document.createElement(\"textarea\");\n    textArea.classList.add(`${descriptionClass}-input`, \"formInput\");\n\n    descriptionContainer.append(label, textArea);\n    return descriptionContainer;\n  }\n\n  //creates the buttons of the form\n  createButtons(buttonText, buttonClass) {\n    const button = document.createElement(\"button\");\n    button.textContent = buttonText;\n    button.classList.add(buttonClass, \"form-button\");\n\n    return button;\n  }\n\n  // function for the delete button of the new task form\n  handleDelete() {\n    const allViewPage = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].allViewPage;\n    this.titleInput.value = \"\";\n    this.dateInput.value = \"\";\n    this.prioritySelect.value = \"\";\n    this.descriptionInput.value = \"\";\n    allViewPage.style.display = \"flex\";\n    this.formActive = false;\n    this.currentContent.removeChild(document.querySelector(\".new-task\"));\n    this.currentContent.removeChild(document.querySelector(\".blurred-screen\"));\n    this.todaysTasksPage.style.display = \"none\";\n    this.tomorrowsTasksPage.style.display = \"none\";\n    this.upcomingTasksPage.style.display = \"none\";\n    this.saveTasksToLocalStorage();\n  }\n\n  //submit handler\n  handleSubmit() {\n    const allViewPage = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].allViewPage;\n    const taskData = {\n      title: this.titleInput.querySelector(\".title-input\").value,\n      date: this.dateInput.querySelector(\".date-input\").value,\n      priority: this.prioritySelect.querySelector(\".priority-input\").value,\n      description:\n        this.descriptionInput.querySelector(\".description-input\").value,\n      id: `new-task-card-${this.counter}`,\n      project: this.projectSelection.querySelector(\".form-project-select\")\n        .value,\n      isChecked: false,\n    };\n\n    this.counter++;\n\n    const newTaskCard = this.createTaskCard(taskData);\n    newTaskCard.style.height = \"5rem\";\n    NewTaskManager.taskList.push({ data: taskData, element: newTaskCard });\n\n    // remove task form and blurred screen after clicking on submit\n    const taskForm = document.querySelector(\".new-task\");\n    const blurredScreen = document.querySelector(\".blurred-screen\");\n    this.currentContent.removeChild(taskForm);\n    this.currentContent.removeChild(blurredScreen);\n\n    // appending the tasks to the current content screen\n    allViewPage.style.display = \"flex\";\n    this.todaysTasksPage.style.display = \"none\";\n    this.tomorrowsTasksPage.style.display = \"none\";\n    this.upcomingTasksPage.style.display = \"none\";\n    this.formActive = false;\n\n    // updating the screen with the tasks in the array\n    this.saveTasksToLocalStorage();\n    this.updateScreen();\n  }\n\n  // function to detect todays date and format it like the date in the tasks\n  isToday() {\n    const today = new Date();\n    const day = String(today.getDate()).padStart(2, \"0\");\n    const month = String(today.getMonth() + 1).padStart(2, \"0\");\n    const year = today.getFullYear();\n    return `${year}-${month}-${day}`;\n  }\n  //function to detect todays date and add one day for tomorrow date\n  isTomorrow() {\n    const today = new Date();\n    const day = String(today.getDate()).padStart(2, \"0\");\n    const Tomorrow = parseFloat(day) + 1;\n    const month = String(today.getMonth() + 1).padStart(2, \"0\");\n    const year = today.getFullYear();\n\n    return `${year}-${month}-${Tomorrow}`;\n  }\n\n  updateScreen() {\n    // get todays date and the numbers for month and year\n    const today = this.isToday();\n    const tomorrow = this.isTomorrow();\n\n    //filter tasklist for all tasks\n    const allTasks = NewTaskManager.taskList;\n\n    // filter tasklist by the todays date\n    const todaysTasks = NewTaskManager.taskList.filter(\n      (task) => task.data.date === today\n    );\n\n    // filter tasklist by the date of tomorrow\n    const tomorrowTasks = NewTaskManager.taskList.filter(\n      (task) => task.data.date === tomorrow\n    );\n\n    //filter tasks by date bigger than today\n    const upcomingTasks = NewTaskManager.taskList.filter(\n      (task) => task.data.date > tomorrow\n    );\n\n    //sort tasks after priority\n    NewTaskManager.taskList.sort(\n      (a, b) =>\n        this.priorityToNumber(b.data.priority) -\n        this.priorityToNumber(a.data.priority)\n    );\n\n    //collect all project pages which got created\n    const projectPages = Array.from(document.querySelectorAll(\".project-page\"));\n\n    //clear all task pages\n    this.allViewPage.innerHTML = \"\";\n    this.todaysTasksPage.innerHTML = \"\";\n    this.tomorrowsTasksPage.innerHTML = \"\";\n    this.upcomingTasksPage.innerHTML = \"\";\n\n    //append task with priority colorization\n    if (_handleViewOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].currentPage === \"allTasks\") {\n      allTasks.forEach((taskObject) =>\n        this.appendTaskToPage(taskObject, this.allViewPage)\n      );\n    } else if (_handleViewOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].currentPage === \"todayTasks\") {\n      todaysTasks.forEach((taskObject) =>\n        this.appendTaskToPage(taskObject, this.todaysTasksPage)\n      );\n    } else if (_handleViewOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].currentPage === \"tomorrowTasks\") {\n      tomorrowTasks.forEach((taskObject) =>\n        this.appendTaskToPage(taskObject, this.tomorrowsTasksPage)\n      );\n    } else if (_handleViewOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].currentPage === \"upcomingTasks\") {\n      upcomingTasks.forEach((taskObject) =>\n        this.appendTaskToPage(taskObject, this.upcomingTasksPage)\n      );\n    } else if (_handleViewOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].currentPage === \"project-page\") {\n      //search for the active project page\n      let activePage = projectPages.filter((page) => {\n        let style = window.getComputedStyle(page);\n        return style.display === \"flex\";\n      });\n      activePage = activePage[0];\n      activePage.innerHTML = \"\";\n\n      allTasks.forEach((taskObject) => {\n        if (`Project-${taskObject.data.project}` === activePage.classList[1]) {\n          this.appendTaskToPage(taskObject, activePage);\n        }\n      });\n    }\n\n    //change color from priority title\n    const taskPriorityDiv = document.querySelectorAll(\".card-task-priority\");\n\n    taskPriorityDiv.forEach((task) => {\n      switch (task.innerHTML) {\n        case \"High\":\n          task.classList.add(\"priority-high-title\");\n          break;\n        case \"Medium\":\n          task.classList.add(\"priority-medium-title\");\n          break;\n        case \"Low\":\n          task.classList.add(\"priority-low-title\");\n          break;\n      }\n    });\n\n    //searching for the  buttons to create the functionality to set the active project button\n    const projectNavBar = document.querySelector(\".projects\");\n    this.projectButtons = projectNavBar.querySelectorAll(\n      \".new-project-nav-btn\"\n    );\n\n    this.allButtons = Array.from(this.projectButtons).concat(\n      Array.from(this.navButtons)\n    );\n\n    this.allButtons.forEach((button) => {\n      button.addEventListener(\"click\", (event) => {\n        this.setActiveButton(event.currentTarget);\n      });\n    });\n  }\n\n  setActiveButton(activeButton) {\n    this.allButtons.forEach((button) => {\n      button.classList.remove(\"active\");\n    });\n    activeButton.classList.add(\"active\");\n  }\n\n  // function for appending the tasks\n  appendTaskToPage(taskObject, page) {\n    taskObject.element.className = \"task-card\";\n    if (taskObject.data.isChecked === true) {\n      //change title text decoration and color by checking checkbox\n      taskObject.element.classList.add(\"checked-checkbox-font\");\n      taskObject.element.classList.add(\"checked-checkbox-background\");\n      taskObject.element.children[0].classList.add(\n        \"checked-checkbox-background\"\n      );\n      taskObject.element.children[1].classList.add(\n        \"checked-checkbox-background\"\n      );\n      taskObject.element.children[0].children[0].checked = true;\n    } else if (taskObject.data.isChecked === false) {\n      //change title text decoration and color by checking checkbox\n      taskObject.element.classList.remove(\"checked-checkbox-font\");\n      taskObject.element.classList.remove(\"checked-checkbox-background\");\n    }\n\n    //change color for the priority\n    switch (taskObject.data.priority) {\n      case \"High\":\n        taskObject.element.classList.add(\"priority-high\");\n        break;\n      case \"Medium\":\n        taskObject.element.classList.add(\"priority-medium\");\n        break;\n      case \"Low\":\n        taskObject.element.classList.add(\"priority-low\");\n        break;\n    }\n    page.appendChild(taskObject.element);\n  }\n\n  // function to set the priorities to number so the task list can be ordered by priority\n  priorityToNumber(priority) {\n    switch (priority) {\n      case \"High\":\n        return 3;\n\n      case \"Medium\":\n        return 2;\n\n      case \"Low\":\n        return 1;\n    }\n  }\n\n  // create task card\n  createTaskCard(taskData) {\n    const newTaskCard = document.createElement(\"div\");\n    newTaskCard.dataset.id = taskData.id;\n    newTaskCard.dataset.classList = `Project-${taskData.project.replace(\n      /\\s+/g,\n      \"-\"\n    )}`;\n\n    // container for the not expanded part of the task\n    const visibleContent = document.createElement(\"div\");\n    visibleContent.classList.add(\"card-task-visible\");\n\n    //container for the hidden task part\n    const hiddenContent = document.createElement(\"div\");\n    hiddenContent.classList.add(\"card-task-hidden\");\n    hiddenContent.style.display = \"none\";\n\n    //create checkbox\n    const checkBox = document.createElement(\"input\");\n    checkBox.type = \"checkbox\";\n    checkBox.classList.add(\"card-task-checkbox\");\n\n    checkBox.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n\n      //find task which gets checked\n      let taskChecked = event.target.closest(\".task-card\");\n      let taskId = taskChecked.dataset.id;\n      let taskChildren = taskChecked.children[0];\n      let taskChildren2 = taskChecked.children[1];\n      const priorityText = taskChildren.children[2];\n\n      // finding task with taskId\n      let index = NewTaskManager.taskList.findIndex(\n        (task) => task.data.id === taskId\n      );\n\n      NewTaskManager.taskList[index].data.isChecked = NewTaskManager.taskList[\n        index\n      ].data.isChecked\n        ? false\n        : true;\n\n      if (checkBox.checked) {\n        //change title text decoration and color by checking checkbox\n        cardTaskTitle.classList.add(\"checked-checkbox-font\");\n        cardTaskPriority.classList.add(\"checked-checkbox-font\");\n        newTaskCard.classList.add(\"checked-checkbox-background\");\n        cardTaskDeleteBtn.classList.add(\"checkbox-checked\");\n        cardTaskEditBtn.classList.add(\"checkbox-checked\");\n        priorityText.classList.add(\"priority-checked\");\n        taskChildren.classList.add(\"checked-checkbox-background\");\n        taskChildren2.classList.add(\"checked-checkbox-background\");\n      } else if (checkBox.checked === false) {\n        cardTaskTitle.classList.remove(\"checked-checkbox-font\");\n        cardTaskPriority.classList.remove(\"checked-checkbox-font\");\n        newTaskCard.classList.remove(\"checked-checkbox-background\");\n        cardTaskDeleteBtn.classList.remove(\"checkbox-checked\");\n        cardTaskEditBtn.classList.remove(\"checkbox-checked\");\n        priorityText.classList.remove(\"priority-checked\");\n        taskChildren.classList.remove(\"checked-checkbox-background\");\n        taskChildren2.classList.remove(\"checked-checkbox-background\");\n      }\n\n      this.saveTasksToLocalStorage();\n    });\n\n    // create title field\n    const cardTaskTitle = document.createElement(\"label\");\n    cardTaskTitle.textContent = taskData.title;\n    cardTaskTitle.classList.add(\"card-task-title\");\n    //setting color for event listener function\n    cardTaskTitle.style.color = \"rgb(59, 59, 59)\";\n\n    // create project field\n    const cardTaskProject = document.createElement(\"label\");\n    cardTaskProject.textContent = `Project: ${taskData.project}`;\n    cardTaskProject.classList.add(\"card-task-project\");\n\n    // create date field\n    const cardTaskDate = document.createElement(\"div\");\n    cardTaskDate.textContent = `DueDate: ${taskData.date}`;\n    cardTaskDate.classList.add(\"card-task-date\");\n\n    //create container for project and date\n    const dateProjectContainer = document.createElement(\"div\");\n    dateProjectContainer.classList.add(\"date-project-container\");\n\n    dateProjectContainer.append(cardTaskProject, cardTaskDate);\n\n    // create selection field\n    const cardTaskPriority = document.createElement(\"div\");\n    cardTaskPriority.textContent = taskData.priority;\n    cardTaskPriority.classList.add(\"card-task-priority\");\n    cardTaskPriority.style.color = \"rgb(59, 59, 59)\";\n\n    // create description field\n    const cardTaskDescription = document.createElement(\"div\");\n    cardTaskDescription.textContent = `Description: ${taskData.description}`;\n    cardTaskDescription.classList.add(\"card-task-description\");\n\n    // create container for delete and change buttons\n    const cardTaskBtnContainer = document.createElement(\"div\");\n    cardTaskBtnContainer.classList.add(\"card-task-btn-container\");\n\n    //create delete button with the function the delete the task\n    const cardTaskDeleteBtn = document.createElement(\"button\");\n    cardTaskDeleteBtn.textContent = \"Delete\";\n    cardTaskDeleteBtn.classList.add(\"card-task-delete-btn\");\n    cardTaskDeleteBtn.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n      //get task by the class and set it as the id for finding it in the taskList array\n      let taskToDelete = event.target.closest(\".task-card\");\n      let taskId = taskToDelete.dataset.id;\n\n      // finding task with taskId\n      let index = NewTaskManager.taskList.findIndex(\n        (task) => task.data.id === taskId\n      );\n\n      const allPages = Array.from(document.querySelectorAll(\".task-page\"));\n      const allProjectPages = document.querySelectorAll(\".project-page\");\n      allProjectPages.forEach((page) => {\n        allPages.push(page);\n      });\n\n      allPages.forEach((page) => {\n        if (\n          page.classList.contains(\"project-page\") &&\n          page.style.display === \"flex\"\n        ) {\n          //delete the taskCard from the project pages\n          const taskProject = NewTaskManager.taskList[index];\n          const taskProjectX = taskProject.data.project.replace(/\\s+/g, \"-\");\n\n          //find project page\n          const projectPageToDeleteTask = document.querySelector(\n            `.Project-${taskProjectX}`\n          );\n\n          //find taskCard\n          const taskCardToDelete = document.querySelector(\n            `[data-class-list=\"Project-${taskProjectX}\"]`\n          );\n          //remove from the project page\n          projectPageToDeleteTask.removeChild(taskCardToDelete);\n        }\n      });\n\n      //delete the task in the taskList\n      if (index !== -1) {\n        NewTaskManager.taskList.splice(index, 1);\n        this.saveTasksToLocalStorage();\n        this.updateScreen();\n      }\n    });\n\n    //create edit button with function to edit the task\n    const cardTaskEditBtn = document.createElement(\"button\");\n    cardTaskEditBtn.textContent = \"Edit\";\n    cardTaskEditBtn.classList.add(\"card-task-edit-btn\");\n    // function for editing the task\n    cardTaskEditBtn.addEventListener(\"click\", (event) => {\n      event.stopPropagation();\n      // get task object\n      let taskCard = event.target.closest(\".task-card\");\n      let taskId = taskCard.dataset.id;\n      this.editTaskForm(taskId);\n    });\n\n    newTaskCard.style.height = \"5rem\";\n\n    //add event listener with function to expand a task card\n    newTaskCard.addEventListener(\"click\", function (event) {\n      const clickedTaskCard = event.target.closest(\".task-card\");\n      const hiddenCard = clickedTaskCard.children[1];\n\n      let clickedTaskCardChild = clickedTaskCard.children[0];\n      const priorityText = clickedTaskCardChild.children[2];\n\n      hiddenContent.style.display =\n        hiddenContent.style.display === \"none\" ? \"flex\" : \"none\";\n      newTaskCard.style.height =\n        newTaskCard.style.height === \"5rem\" ? \"auto\" : \"5rem\";\n      visibleContent.classList.toggle(\"card-task-visible-border\");\n\n      switch (priorityText.innerHTML) {\n        case \"High\":\n          clickedTaskCardChild.classList.toggle(\n            \"card-task-background-color-high\"\n          );\n          hiddenCard.classList.toggle(\"hidden-background-color-high\");\n          break;\n\n        case \"Medium\":\n          clickedTaskCardChild.classList.toggle(\n            \"card-task-background-color-medium\"\n          );\n          hiddenCard.classList.toggle(\"hidden-background-color-medium\");\n          break;\n\n        case \"Low\":\n          clickedTaskCardChild.classList.toggle(\n            \"card-task-background-color-low\"\n          );\n          hiddenCard.classList.toggle(\"hidden-background-color-low\");\n          break;\n      }\n    });\n\n    // append all elements\n    cardTaskBtnContainer.append(cardTaskDeleteBtn, cardTaskEditBtn);\n    visibleContent.append(checkBox, cardTaskTitle, cardTaskPriority);\n    hiddenContent.append(\n      dateProjectContainer,\n      cardTaskDescription,\n      cardTaskBtnContainer\n    );\n\n    newTaskCard.append(visibleContent, hiddenContent);\n\n    return newTaskCard;\n  }\n\n  editTaskForm = (taskId) => {\n    const taskObject = NewTaskManager.taskList.find(\n      (task) => task.data.id === taskId\n    );\n\n    if (taskObject) {\n      // blurred screen for background\n      const blurredScreen = document.createElement(\"div\");\n      blurredScreen.classList.add(\"blurred-screen\");\n      //create form div\n      const editForm = document.createElement(\"div\");\n      editForm.className = \"edit-form\";\n      // create title\n      const editTitle = document.createElement(\"h2\");\n      editTitle.textContent = \"Title\";\n      editTitle.className = \"edit-title\";\n      //create title input field with the value of the task to edit\n      const editTitleInput = document.createElement(\"input\");\n      editTitleInput.className = \"edit-title-input\";\n      editTitleInput.value = taskObject.data.title;\n      //create project field\n      const editProject = document.createElement(\"h2\");\n      editProject.textContent = \"Project\";\n      editProject.className = \"edit-project-title\";\n      //create project selection field with the value of the task to edit\n      const editProjectInput = document.createElement(\"select\");\n      editProjectInput.className = \"edit-project-input\";\n      //create the options to select\"\n      const optionElements = Array.from(\n        document.querySelectorAll(\".new-project-nav-btn\")\n      );\n      const innerHTMLArray = optionElements.map(function (element) {\n        return element.textContent;\n      });\n\n      const noProject = \"No Project\";\n\n      innerHTMLArray.push(noProject);\n\n      innerHTMLArray.forEach((optionText) => {\n        const option = document.createElement(\"option\");\n        option.value = optionText;\n        option.textContent = optionText;\n        editProjectInput.appendChild(option);\n      });\n\n      //create date\n      const editDate = document.createElement(\"h2\");\n      editDate.textContent = \"Date\";\n      editDate.className = \"edit-date\";\n      //create date input field with the value of the task to edit\n      const editDateInput = document.createElement(\"input\");\n      editDateInput.className = \"edit-date-input\";\n      editDateInput.type = \"date\";\n      editDateInput.value = taskObject.data.date;\n      //create priority\n      const editPriority = document.createElement(\"h2\");\n      editPriority.textContent = \"Priority\";\n      editPriority.className = \"edit-priority\";\n      //create priority input field with the value of the task to edit\n      const editPriorityInput = document.createElement(\"select\");\n      editPriorityInput.className = \"edit-priority-input\";\n      // create the options to select\n      const options = [\"High\", \"Medium\", \"Low\"];\n      options.forEach((optionText) => {\n        const option = document.createElement(\"option\");\n        option.value = optionText;\n        option.textContent = optionText;\n        editPriorityInput.appendChild(option);\n        editPriorityInput.value = taskObject.data.priority;\n      });\n\n      // create description\n      const editDescription = document.createElement(\"h2\");\n      editDescription.textContent = \"Description\";\n      editDescription.className = \"edit-description\";\n      //create description input field with the value of the task to edit\n      const editDescriptionInput = document.createElement(\"textarea\");\n      editDescriptionInput.className = \"edit-description-input\";\n      editDescriptionInput.value = taskObject.data.description;\n      //create button container\n      const editButtonContainer = document.createElement(\"div\");\n      editButtonContainer.className = \"edit-button-container\";\n      // create button for submitting the changes\n      const editSubmitBtn = document.createElement(\"button\");\n      editSubmitBtn.className = \"edit-submit-button\";\n      editSubmitBtn.textContent = \"Save\";\n\n      //add event listener to the edit submit button\n      editSubmitBtn.addEventListener(\"click\", () => {\n        //change the task values in the taskList\n        let taskIndex = NewTaskManager.taskList.findIndex(\n          (task) => task.data.id === taskId\n        );\n\n        NewTaskManager.taskList[taskIndex].data.title = editTitleInput.value;\n        NewTaskManager.taskList[taskIndex].data.date = editDateInput.value;\n        NewTaskManager.taskList[taskIndex].data.project =\n          editProjectInput.value;\n        NewTaskManager.taskList[taskIndex].data.priority =\n          editPriorityInput.value;\n        NewTaskManager.taskList[taskIndex].data.description =\n          editDescriptionInput.value;\n\n        // create new taskData for the new taskCard after editing\n        const taskData = {\n          title: NewTaskManager.taskList[taskIndex].data.title,\n          date: NewTaskManager.taskList[taskIndex].data.date,\n          project: NewTaskManager.taskList[taskIndex].data.project,\n          priority: NewTaskManager.taskList[taskIndex].data.priority,\n          description: NewTaskManager.taskList[taskIndex].data.description,\n          id: taskId,\n        };\n\n        // create new task Card\n        const updatedTaskCard = this.createTaskCard(taskData);\n        updatedTaskCard.style.height = \"5rem\";\n        NewTaskManager.taskList[taskIndex].element = updatedTaskCard;\n\n        // remove form and blurry screen\n        this.currentContent.removeChild(editForm);\n        this.currentContent.removeChild(blurredScreen);\n\n        // update screen\n        this.saveTasksToLocalStorage();\n        this.updateScreen();\n      });\n\n      //create cancel button\n      let editCancelBtn = document.createElement(\"button\");\n      editCancelBtn.className = \"edit-cancel-button\";\n      editCancelBtn.textContent = \"Cancel\";\n\n      // ad event listener with function to the cancel button\n      editCancelBtn.addEventListener(\"click\", () => {\n        this.currentContent.removeChild(editForm);\n        this.currentContent.removeChild(blurredScreen);\n        this.formActive = false;\n      });\n\n      //append the buttons to the button container\n      editButtonContainer.append(editSubmitBtn, editCancelBtn);\n      //append the elements to the form\n      editForm.append(\n        editTitle,\n        editTitleInput,\n        editProject,\n        editProjectInput,\n        editDate,\n        editDateInput,\n        editPriority,\n        editPriorityInput,\n        editDescription,\n        editDescriptionInput,\n        editButtonContainer\n      );\n      this.currentContent.append(editForm, blurredScreen);\n    }\n  };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NewTaskManager);\n\n// wenn ich einen task checke dann die siet ehin und wieder zurück wechsle uhnd dann unchecke dann bleibt der font durcvhgeestrichzen\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbmV3VGFza01hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBQ21COztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDRDQUFXO0FBQ3BDLHdCQUF3Qiw0Q0FBVztBQUNuQywwQkFBMEIsNENBQVc7QUFDckMsdUJBQXVCLDRDQUFXO0FBQ2xDLDJCQUEyQiw0Q0FBVztBQUN0Qyw4QkFBOEIsNENBQVc7QUFDekMsNkJBQTZCLDRDQUFXO0FBQ3hDLDBCQUEwQiw0Q0FBVztBQUNyQyw0QkFBNEIsNENBQVc7QUFDdkMsK0JBQStCLDRDQUFXO0FBQzFDLCtCQUErQiw0Q0FBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDBEQUFnQjtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0NBQXNDO0FBQzdFLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlDQUFpQyxXQUFXOztBQUU1QztBQUNBO0FBQ0EsMkJBQTJCLFdBQVc7O0FBRXRDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsaUJBQWlCO0FBQzVDOztBQUVBO0FBQ0EsOEJBQThCLGlCQUFpQjs7QUFFL0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCLDRDQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0IsNENBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGFBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQyxzQ0FBc0M7O0FBRXpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsS0FBSyxHQUFHLE1BQU0sR0FBRyxJQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxLQUFLLEdBQUcsTUFBTSxHQUFHLFNBQVM7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSwwREFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsTUFBTSxTQUFTLDBEQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLFNBQVMsMERBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLE1BQU0sU0FBUywwREFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsTUFBTSxTQUFTLDBEQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhDQUE4QyxpQkFBaUI7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQyxjQUFjO0FBQ3pEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzREFBc0QscUJBQXFCO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsYUFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsY0FBYyxFQUFDOztBQUU5QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tLXRvcC8uL3NyYy9uZXdUYXNrTWFuYWdlci5qcz9jYWViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEb21FbGVtZW50cyBmcm9tIFwiLi9ET01cIjtcbmltcG9ydCBIYW5kbGVOYXZCdXR0b25zIGZyb20gXCIuL2hhbmRsZVZpZXdPcHRpb25zXCI7XG5cbmNsYXNzIE5ld1Rhc2tNYW5hZ2VyIHtcbiAgc3RhdGljIGluc3RhbmNlID0gbnVsbDtcbiAgc3RhdGljIHRhc2tMaXN0ID0gW107XG4gIHN0YXRpYyBnZXRUYXNrTGlzdCgpIHtcbiAgICByZXR1cm4gTmV3VGFza01hbmFnZXIudGFza0xpc3Q7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAoTmV3VGFza01hbmFnZXIuaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBOZXdUYXNrTWFuYWdlci5pbnN0YW5jZTtcbiAgICB9XG4gICAgdGhpcy5zaWRlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaWRlTmF2XCIpO1xuICAgIHRoaXMuZm9ybUFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuYWRkVGFza0J1dHRvbiA9IERvbUVsZW1lbnRzLmFkZFRhc2tCdXR0b247XG4gICAgdGhpcy5hZGRUYXNrVGl0bGUgPSBEb21FbGVtZW50cy5hZGRUYXNrVGl0bGU7XG4gICAgdGhpcy5jdXJyZW50Q29udGVudCA9IERvbUVsZW1lbnRzLmN1cnJlbnRDb250ZW50O1xuICAgIHRoaXMuYWxsVmlld1BhZ2UgPSBEb21FbGVtZW50cy5hbGxWaWV3UGFnZTtcbiAgICB0aGlzLnRvZGF5c1Rhc2tzUGFnZSA9IERvbUVsZW1lbnRzLnRvZGF5Vmlld1BhZ2U7XG4gICAgdGhpcy50b21vcnJvd3NUYXNrc1BhZ2UgPSBEb21FbGVtZW50cy50b21vcnJvd1ZpZXdQYWdlO1xuICAgIHRoaXMudXBjb21pbmdUYXNrc1BhZ2UgPSBEb21FbGVtZW50cy51cGNvbWluZ1ZpZXdQYWdlO1xuICAgIHRoaXMuYWxsVGFza3NCdXR0b24gPSBEb21FbGVtZW50cy5hbGxUYXNrc0J1dHRvbjtcbiAgICB0aGlzLnRvZGF5VGFza3NCdXR0b24gPSBEb21FbGVtZW50cy50b2RheVRhc2tzQnV0dG9uO1xuICAgIHRoaXMudG9tb3Jyb3dUYXNrc0J1dHRvbiA9IERvbUVsZW1lbnRzLnRvbW9ycm93VGFza3NCdXR0b247XG4gICAgdGhpcy51cGNvbWluZ1Rhc2tzQnV0dG9uID0gRG9tRWxlbWVudHMudXBjb21pbmdUYXNrc0J1dHRvbjtcbiAgICB0aGlzLmNvdW50ZXIgPSAxO1xuICAgIHRoaXMubmF2QnV0dG9ucyA9IFtcbiAgICAgIHRoaXMuYWxsVGFza3NCdXR0b24sXG4gICAgICB0aGlzLnRvZGF5VGFza3NCdXR0b24sXG4gICAgICB0aGlzLnRvbW9ycm93VGFza3NCdXR0b24sXG4gICAgICB0aGlzLnVwY29taW5nVGFza3NCdXR0b24sXG4gICAgXTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgTmV3VGFza01hbmFnZXIuaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMubG9hZFRhc2tzRnJvbVN0b3JhZ2UoKTtcbiAgICB0aGlzLmxvYWRTdGFydFBhZ2UoKTtcbiAgfVxuXG4gIGluaXRpYWxpemVFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLmFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMubmV3VGFza0Zvcm0oKSk7XG5cbiAgICB0aGlzLmFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5hZGRUYXNrVGl0bGUuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgdGhpcy5hZGRUYXNrVGl0bGUuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDApXCI7XG4gICAgICB0aGlzLmFkZFRhc2tUaXRsZS5zdHlsZS56SW5kZXggPSBcIjEwXCI7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5hZGRUYXNrVGl0bGUuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgdGhpcy5hZGRUYXNrVGl0bGUuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDEwMCUpXCI7XG4gICAgICB0aGlzLmFkZFRhc2tUaXRsZS5zdHlsZS56SW5kZXggPSBcIi0xXCI7XG4gICAgfSk7XG4gIH1cblxuICAvLyBsb2FkIHRoZSBwYWdlIG9mIGFsbCB0YXNrcyB0byBkaXNwbGF5IHRoZW0gZGlyZWN0bHkgZnJvbSB0aGUgc3RvcmFnZVxuICBsb2FkU3RhcnRQYWdlKCkge1xuICAgIEhhbmRsZU5hdkJ1dHRvbnMudmlld0FsbFRhc2tzLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICB0aGlzLmNvdW50ZXJSZXNldCgpO1xuICB9XG5cbiAgLy9mdW5jdGlvbiB0byBzYXZlIHRoZSB0YXNrTGlzdCB0byB0aGUgbG9jYWwgc3RvcmFnZVxuICBzYXZlVGFza3NUb0xvY2FsU3RvcmFnZSgpIHtcbiAgICBjb25zdCB0YXNrc0RhdGEgPSBOZXdUYXNrTWFuYWdlci50YXNrTGlzdC5tYXAoKHRhc2spID0+IHRhc2suZGF0YSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0YXNrc1wiLCBKU09OLnN0cmluZ2lmeSh0YXNrc0RhdGEpKTtcbiAgfVxuXG4gIC8vZnVuY3Rpb24gdG8gbG9hZCB0aGUgdGFza2xpc3QgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZSBhbmQgZGlzcGxheSB0aGVtIHRocm91Z2ggdXBkYXRlU2NyZWVuKCk7XG4gIGxvYWRUYXNrc0Zyb21TdG9yYWdlKCkge1xuICAgIGNvbnN0IHN0b3JlZFRhc2tzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0YXNrc1wiKTtcbiAgICBpZiAoc3RvcmVkVGFza3MpIHtcbiAgICAgIGNvbnN0IHRhc2tzRGF0YSA9IEpTT04ucGFyc2Uoc3RvcmVkVGFza3MpO1xuICAgICAgdGFza3NEYXRhLmZvckVhY2goKHRhc2tEYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gdGhpcy5jcmVhdGVUYXNrQ2FyZCh0YXNrRGF0YSk7XG4gICAgICAgIE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0LnB1c2goeyBkYXRhOiB0YXNrRGF0YSwgZWxlbWVudDogdGFza0VsZW1lbnQgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBkYXRlU2NyZWVuKCk7XG4gICAgfVxuICB9XG5cbiAgY291bnRlclJlc2V0KCkge1xuICAgIGlmICh0aGlzLmNvdW50ZXIgPiAxMDApIHtcbiAgICAgIHRoaXMuY291bnRlciA9IDE7XG4gICAgfVxuICB9XG5cbiAgLy9jcmVhdGVzIGEgbmV3IHRhc2sgZm9ybSBwb3AgdXAgd2luZG93IHdoZW4gdXNlciBjbGlja3Mgb24gdGhlIHBsdXMgaWNvblxuICBuZXdUYXNrRm9ybSgpIHtcbiAgICAvLyBjaGVja3MgaWYgdGhlIGZvcm0gaXMgYWxyZWFkeSBkaXNwbGF5ZWRcbiAgICBpZiAodGhpcy5mb3JtQWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5mb3JtQWN0aXZlID0gdHJ1ZTtcbiAgICAgIC8vcmVtb3ZlIGFsbCBjb250YWluZXJzIGZvciB0aGUgZm9ybSBwb3AgdXBcblxuICAgICAgLy9jcmVhdGVkIHRoZSBmb3JtIHRvIGFwcGVuZFxuICAgICAgY29uc3QgbmV3VGFza0Zvcm0gPSB0aGlzLmNyZWF0ZUZvcm1FbGVtZW50cygpO1xuICAgICAgLy8gbmV3VGFza0Zvcm0uY2xhc3NMaXN0LmFkZChcIm5ldy10YXNrXCIpO1xuICAgICAgLy9jcmVhdGVzIHRoZSBibHVycnkgYmFja2dyb3VuZFxuICAgICAgY29uc3QgYmx1cnJlZFNjcmVlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBibHVycmVkU2NyZWVuLmNsYXNzTGlzdC5hZGQoXCJibHVycmVkLXNjcmVlblwiKTtcblxuICAgICAgdGhpcy5jdXJyZW50Q29udGVudC5hcHBlbmQobmV3VGFza0Zvcm0sIGJsdXJyZWRTY3JlZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBmaWxsIG91dCB0aGUgZGlzcGxheWVkIGZvcm1cIik7XG4gICAgfVxuICB9XG5cbiAgLy9jcmVhdGVzIHRoZSBlbGVtZW50cyBmb3IgdGhlIGZvcm1cbiAgY3JlYXRlRm9ybUVsZW1lbnRzKCkge1xuICAgIGNvbnN0IG5ld1Rhc2tGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuZXdUYXNrRm9ybS5jbGFzc0xpc3QuYWRkKFwibmV3LXRhc2tcIik7XG5cbiAgICB0aGlzLnRpdGxlSW5wdXQgPSB0aGlzLmNyZWF0ZUlucHV0RmllbGQoXCJUaXRsZVwiLCBcInRpdGxlXCIsIFwidGV4dFwiKTtcbiAgICB0aGlzLmRhdGVJbnB1dCA9IHRoaXMuY3JlYXRlSW5wdXRGaWVsZChcIkRhdGVcIiwgXCJkYXRlXCIsIFwiZGF0ZVwiKTtcbiAgICB0aGlzLnByaW9yaXR5U2VsZWN0ID0gdGhpcy5jcmVhdGVTZWxlY3RGaWVsZChcInByaW9yaXR5LWlucHV0XCIsIFtcbiAgICAgIFwiSGlnaFwiLFxuICAgICAgXCJNZWRpdW1cIixcbiAgICAgIFwiTG93XCIsXG4gICAgXSk7XG4gICAgdGhpcy5wcm9qZWN0U2VsZWN0aW9uID0gdGhpcy5jcmVhdGVQcm9qZWN0U2VsZWN0aW9uKCk7XG4gICAgdGhpcy5kZXNjcmlwdGlvbklucHV0ID0gdGhpcy5jcmVhdGVEZXNjcmlwdGlvbkZpZWxkKFwiZGVzY3JpcHRpb25cIik7XG5cbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJ1dHRvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLWNvbnRhaW5lclwiKTtcblxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9ucyhcIlN1Ym1pdFwiLCBcInN1Ym1pdC1idXR0b25cIik7XG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpO1xuICAgIH0pO1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9ucyhcIkRlbGV0ZVwiLCBcImRlbGV0ZS1idXR0b25cIik7XG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZURlbGV0ZSgpO1xuICAgIH0pO1xuXG4gICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZChzdWJtaXRCdXR0b24sIGRlbGV0ZUJ1dHRvbik7XG5cbiAgICBuZXdUYXNrRm9ybS5hcHBlbmQoXG4gICAgICB0aGlzLnRpdGxlSW5wdXQsXG4gICAgICB0aGlzLmRhdGVJbnB1dCxcbiAgICAgIHRoaXMucHJpb3JpdHlTZWxlY3QsXG4gICAgICB0aGlzLnByb2plY3RTZWxlY3Rpb24sXG4gICAgICB0aGlzLmRlc2NyaXB0aW9uSW5wdXQsXG4gICAgICBidXR0b25Db250YWluZXJcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ld1Rhc2tGb3JtO1xuICB9XG5cbiAgLy9jcmVhdGVzIHRoZSBpbnB1dCBmaWVsZHMgb2YgdGhlIGZvcm1cbiAgY3JlYXRlSW5wdXRGaWVsZChoZWFkZXJUZXh0LCBpbnB1dENsYXNzLCB0eXBlKSB7XG4gICAgY29uc3QgaW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlucHV0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmb3JtLWRpdlwiKTtcblxuICAgIGNvbnN0IGlucHV0SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGlucHV0SGVhZGVyLnRleHRDb250ZW50ID0gaGVhZGVyVGV4dDtcbiAgICBpbnB1dEhlYWRlci5jbGFzc0xpc3QuYWRkKGAke2lucHV0Q2xhc3N9LWNhcHRpb25gKTtcblxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoYCR7aW5wdXRDbGFzc30taW5wdXRgLCBcImZvcm1JbnB1dFwiKTtcblxuICAgIGlucHV0Q29udGFpbmVyLmFwcGVuZChpbnB1dEhlYWRlciwgaW5wdXQpO1xuICAgIHJldHVybiBpbnB1dENvbnRhaW5lcjtcbiAgfVxuXG4gIC8vY3JlYXRlcyB0aGUgc2VsZWN0IGZpZWxkIG9mIHRoZSBmb3JtXG4gIGNyZWF0ZVNlbGVjdEZpZWxkKHNlbGVjdENsYXNzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgaW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlucHV0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmb3JtLWRpdlwiKTtcblxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gXCJQcmlvcml0eVwiO1xuICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoXCJwcmlvcml0eS1jYXB0aW9uXCIpO1xuXG4gICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcbiAgICBzZWxlY3QuY2xhc3NMaXN0LmFkZChzZWxlY3RDbGFzcywgXCJmb3JtSW5wdXRcIik7XG5cbiAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvblRleHQpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb24udmFsdWUgPSBvcHRpb25UZXh0O1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gb3B0aW9uVGV4dDtcbiAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH0pO1xuXG4gICAgaW5wdXRDb250YWluZXIuYXBwZW5kKGxhYmVsLCBzZWxlY3QpO1xuICAgIHJldHVybiBpbnB1dENvbnRhaW5lcjtcbiAgfVxuXG4gIC8vIGNyZWF0ZXMgdGhlIHByb2plY3Qgc2VsZWN0aW9uIGZpZWxkIG9mIHRoZSBmb3JtXG4gIGNyZWF0ZVByb2plY3RTZWxlY3Rpb24oKSB7XG4gICAgY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZm9ybS1kaXZcIik7XG5cbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKFwiZm9ybS1wcm9qZWN0LWxhYmVsXCIpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gXCJQcm9qZWN0XCI7XG5cbiAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgIHNlbGVjdC5jbGFzc0xpc3QuYWRkKFwiZm9ybS1wcm9qZWN0LXNlbGVjdFwiKTtcbiAgICBzZWxlY3QuY2xhc3NMaXN0LmFkZChcImZvcm1JbnB1dFwiKTtcblxuICAgIC8vIHNlYXJjaCBmb3IgYWxsIGNyZWF0ZWQgcHJvamVjdHMgaW4gdGhlIERPTVxuICAgIGNvbnN0IG9wdGlvbkVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByb2plY3QtbmF2LWJ0blwiKVxuICAgICk7XG5cbiAgICAvL2ZpbHRlciB0aGUgZWxlbWVudHMgZm9yIHRoZWlyIGlubmVySFRNTCB0byBhZGQgdGhlbSB0byB0aGUgc2VsZWN0aW9uXG4gICAgY29uc3QgaW5uZXJIVE1MQXJyYXkgPSBvcHRpb25FbGVtZW50cy5tYXAoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnRleHRDb250ZW50O1xuICAgIH0pO1xuXG4gICAgLy9hZGRpbmcgb3B0aW9uIGZvciBObyBQcm9qZWN0XG4gICAgY29uc3Qgbm9Qcm9qZWN0ID0gXCJObyBQcm9qZWN0XCI7XG4gICAgaW5uZXJIVE1MQXJyYXkucHVzaChub1Byb2plY3QpO1xuXG4gICAgaW5uZXJIVE1MQXJyYXkuZm9yRWFjaCgob3B0aW9uVGV4dCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IG9wdGlvblRleHQ7XG4gICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBvcHRpb25UZXh0O1xuICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgfSk7XG5cbiAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZChsYWJlbCwgc2VsZWN0KTtcbiAgICByZXR1cm4gcHJvamVjdENvbnRhaW5lcjtcbiAgfVxuXG4gIC8vY3JlYXRlcyB0aGUgZGVzY3JpcHRpb24gZmllbGQgb2YgdGhlIGZvcm1cbiAgY3JlYXRlRGVzY3JpcHRpb25GaWVsZChkZXNjcmlwdGlvbkNsYXNzKSB7XG4gICAgY29uc3QgZGVzY3JpcHRpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRlc2NyaXB0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmb3JtLWRpdlwiKTtcblxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoYCR7ZGVzY3JpcHRpb25DbGFzc30tY2FwdGlvbmApO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gXCJEZXNjcmlwdGlvblwiO1xuXG4gICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgdGV4dEFyZWEuY2xhc3NMaXN0LmFkZChgJHtkZXNjcmlwdGlvbkNsYXNzfS1pbnB1dGAsIFwiZm9ybUlucHV0XCIpO1xuXG4gICAgZGVzY3JpcHRpb25Db250YWluZXIuYXBwZW5kKGxhYmVsLCB0ZXh0QXJlYSk7XG4gICAgcmV0dXJuIGRlc2NyaXB0aW9uQ29udGFpbmVyO1xuICB9XG5cbiAgLy9jcmVhdGVzIHRoZSBidXR0b25zIG9mIHRoZSBmb3JtXG4gIGNyZWF0ZUJ1dHRvbnMoYnV0dG9uVGV4dCwgYnV0dG9uQ2xhc3MpIHtcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1dHRvblRleHQ7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uQ2xhc3MsIFwiZm9ybS1idXR0b25cIik7XG5cbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gZm9yIHRoZSBkZWxldGUgYnV0dG9uIG9mIHRoZSBuZXcgdGFzayBmb3JtXG4gIGhhbmRsZURlbGV0ZSgpIHtcbiAgICBjb25zdCBhbGxWaWV3UGFnZSA9IERvbUVsZW1lbnRzLmFsbFZpZXdQYWdlO1xuICAgIHRoaXMudGl0bGVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgdGhpcy5kYXRlSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIHRoaXMucHJpb3JpdHlTZWxlY3QudmFsdWUgPSBcIlwiO1xuICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgYWxsVmlld1BhZ2Uuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIHRoaXMuZm9ybUFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudENvbnRlbnQucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdGFza1wiKSk7XG4gICAgdGhpcy5jdXJyZW50Q29udGVudC5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJsdXJyZWQtc2NyZWVuXCIpKTtcbiAgICB0aGlzLnRvZGF5c1Rhc2tzUGFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdGhpcy50b21vcnJvd3NUYXNrc1BhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHRoaXMudXBjb21pbmdUYXNrc1BhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHRoaXMuc2F2ZVRhc2tzVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgfVxuXG4gIC8vc3VibWl0IGhhbmRsZXJcbiAgaGFuZGxlU3VibWl0KCkge1xuICAgIGNvbnN0IGFsbFZpZXdQYWdlID0gRG9tRWxlbWVudHMuYWxsVmlld1BhZ2U7XG4gICAgY29uc3QgdGFza0RhdGEgPSB7XG4gICAgICB0aXRsZTogdGhpcy50aXRsZUlucHV0LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGUtaW5wdXRcIikudmFsdWUsXG4gICAgICBkYXRlOiB0aGlzLmRhdGVJbnB1dC5xdWVyeVNlbGVjdG9yKFwiLmRhdGUtaW5wdXRcIikudmFsdWUsXG4gICAgICBwcmlvcml0eTogdGhpcy5wcmlvcml0eVNlbGVjdC5xdWVyeVNlbGVjdG9yKFwiLnByaW9yaXR5LWlucHV0XCIpLnZhbHVlLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dC5xdWVyeVNlbGVjdG9yKFwiLmRlc2NyaXB0aW9uLWlucHV0XCIpLnZhbHVlLFxuICAgICAgaWQ6IGBuZXctdGFzay1jYXJkLSR7dGhpcy5jb3VudGVyfWAsXG4gICAgICBwcm9qZWN0OiB0aGlzLnByb2plY3RTZWxlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5mb3JtLXByb2plY3Qtc2VsZWN0XCIpXG4gICAgICAgIC52YWx1ZSxcbiAgICAgIGlzQ2hlY2tlZDogZmFsc2UsXG4gICAgfTtcblxuICAgIHRoaXMuY291bnRlcisrO1xuXG4gICAgY29uc3QgbmV3VGFza0NhcmQgPSB0aGlzLmNyZWF0ZVRhc2tDYXJkKHRhc2tEYXRhKTtcbiAgICBuZXdUYXNrQ2FyZC5zdHlsZS5oZWlnaHQgPSBcIjVyZW1cIjtcbiAgICBOZXdUYXNrTWFuYWdlci50YXNrTGlzdC5wdXNoKHsgZGF0YTogdGFza0RhdGEsIGVsZW1lbnQ6IG5ld1Rhc2tDYXJkIH0pO1xuXG4gICAgLy8gcmVtb3ZlIHRhc2sgZm9ybSBhbmQgYmx1cnJlZCBzY3JlZW4gYWZ0ZXIgY2xpY2tpbmcgb24gc3VibWl0XG4gICAgY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10YXNrXCIpO1xuICAgIGNvbnN0IGJsdXJyZWRTY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJsdXJyZWQtc2NyZWVuXCIpO1xuICAgIHRoaXMuY3VycmVudENvbnRlbnQucmVtb3ZlQ2hpbGQodGFza0Zvcm0pO1xuICAgIHRoaXMuY3VycmVudENvbnRlbnQucmVtb3ZlQ2hpbGQoYmx1cnJlZFNjcmVlbik7XG5cbiAgICAvLyBhcHBlbmRpbmcgdGhlIHRhc2tzIHRvIHRoZSBjdXJyZW50IGNvbnRlbnQgc2NyZWVuXG4gICAgYWxsVmlld1BhZ2Uuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIHRoaXMudG9kYXlzVGFza3NQYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB0aGlzLnRvbW9ycm93c1Rhc2tzUGFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdGhpcy51cGNvbWluZ1Rhc2tzUGFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdGhpcy5mb3JtQWN0aXZlID0gZmFsc2U7XG5cbiAgICAvLyB1cGRhdGluZyB0aGUgc2NyZWVuIHdpdGggdGhlIHRhc2tzIGluIHRoZSBhcnJheVxuICAgIHRoaXMuc2F2ZVRhc2tzVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICB0aGlzLnVwZGF0ZVNjcmVlbigpO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gdG8gZGV0ZWN0IHRvZGF5cyBkYXRlIGFuZCBmb3JtYXQgaXQgbGlrZSB0aGUgZGF0ZSBpbiB0aGUgdGFza3NcbiAgaXNUb2RheSgpIHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKHRvZGF5LmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgY29uc3QgeWVhciA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XG4gICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XG4gIH1cbiAgLy9mdW5jdGlvbiB0byBkZXRlY3QgdG9kYXlzIGRhdGUgYW5kIGFkZCBvbmUgZGF5IGZvciB0b21vcnJvdyBkYXRlXG4gIGlzVG9tb3Jyb3coKSB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRheSA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgICBjb25zdCBUb21vcnJvdyA9IHBhcnNlRmxvYXQoZGF5KSArIDE7XG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcodG9kYXkuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgICBjb25zdCB5ZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcblxuICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke1RvbW9ycm93fWA7XG4gIH1cblxuICB1cGRhdGVTY3JlZW4oKSB7XG4gICAgLy8gZ2V0IHRvZGF5cyBkYXRlIGFuZCB0aGUgbnVtYmVycyBmb3IgbW9udGggYW5kIHllYXJcbiAgICBjb25zdCB0b2RheSA9IHRoaXMuaXNUb2RheSgpO1xuICAgIGNvbnN0IHRvbW9ycm93ID0gdGhpcy5pc1RvbW9ycm93KCk7XG5cbiAgICAvL2ZpbHRlciB0YXNrbGlzdCBmb3IgYWxsIHRhc2tzXG4gICAgY29uc3QgYWxsVGFza3MgPSBOZXdUYXNrTWFuYWdlci50YXNrTGlzdDtcblxuICAgIC8vIGZpbHRlciB0YXNrbGlzdCBieSB0aGUgdG9kYXlzIGRhdGVcbiAgICBjb25zdCB0b2RheXNUYXNrcyA9IE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0LmZpbHRlcihcbiAgICAgICh0YXNrKSA9PiB0YXNrLmRhdGEuZGF0ZSA9PT0gdG9kYXlcbiAgICApO1xuXG4gICAgLy8gZmlsdGVyIHRhc2tsaXN0IGJ5IHRoZSBkYXRlIG9mIHRvbW9ycm93XG4gICAgY29uc3QgdG9tb3Jyb3dUYXNrcyA9IE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0LmZpbHRlcihcbiAgICAgICh0YXNrKSA9PiB0YXNrLmRhdGEuZGF0ZSA9PT0gdG9tb3Jyb3dcbiAgICApO1xuXG4gICAgLy9maWx0ZXIgdGFza3MgYnkgZGF0ZSBiaWdnZXIgdGhhbiB0b2RheVxuICAgIGNvbnN0IHVwY29taW5nVGFza3MgPSBOZXdUYXNrTWFuYWdlci50YXNrTGlzdC5maWx0ZXIoXG4gICAgICAodGFzaykgPT4gdGFzay5kYXRhLmRhdGUgPiB0b21vcnJvd1xuICAgICk7XG5cbiAgICAvL3NvcnQgdGFza3MgYWZ0ZXIgcHJpb3JpdHlcbiAgICBOZXdUYXNrTWFuYWdlci50YXNrTGlzdC5zb3J0KFxuICAgICAgKGEsIGIpID0+XG4gICAgICAgIHRoaXMucHJpb3JpdHlUb051bWJlcihiLmRhdGEucHJpb3JpdHkpIC1cbiAgICAgICAgdGhpcy5wcmlvcml0eVRvTnVtYmVyKGEuZGF0YS5wcmlvcml0eSlcbiAgICApO1xuXG4gICAgLy9jb2xsZWN0IGFsbCBwcm9qZWN0IHBhZ2VzIHdoaWNoIGdvdCBjcmVhdGVkXG4gICAgY29uc3QgcHJvamVjdFBhZ2VzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtcGFnZVwiKSk7XG5cbiAgICAvL2NsZWFyIGFsbCB0YXNrIHBhZ2VzXG4gICAgdGhpcy5hbGxWaWV3UGFnZS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHRoaXMudG9kYXlzVGFza3NQYWdlLmlubmVySFRNTCA9IFwiXCI7XG4gICAgdGhpcy50b21vcnJvd3NUYXNrc1BhZ2UuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB0aGlzLnVwY29taW5nVGFza3NQYWdlLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAvL2FwcGVuZCB0YXNrIHdpdGggcHJpb3JpdHkgY29sb3JpemF0aW9uXG4gICAgaWYgKEhhbmRsZU5hdkJ1dHRvbnMuY3VycmVudFBhZ2UgPT09IFwiYWxsVGFza3NcIikge1xuICAgICAgYWxsVGFza3MuZm9yRWFjaCgodGFza09iamVjdCkgPT5cbiAgICAgICAgdGhpcy5hcHBlbmRUYXNrVG9QYWdlKHRhc2tPYmplY3QsIHRoaXMuYWxsVmlld1BhZ2UpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoSGFuZGxlTmF2QnV0dG9ucy5jdXJyZW50UGFnZSA9PT0gXCJ0b2RheVRhc2tzXCIpIHtcbiAgICAgIHRvZGF5c1Rhc2tzLmZvckVhY2goKHRhc2tPYmplY3QpID0+XG4gICAgICAgIHRoaXMuYXBwZW5kVGFza1RvUGFnZSh0YXNrT2JqZWN0LCB0aGlzLnRvZGF5c1Rhc2tzUGFnZSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChIYW5kbGVOYXZCdXR0b25zLmN1cnJlbnRQYWdlID09PSBcInRvbW9ycm93VGFza3NcIikge1xuICAgICAgdG9tb3Jyb3dUYXNrcy5mb3JFYWNoKCh0YXNrT2JqZWN0KSA9PlxuICAgICAgICB0aGlzLmFwcGVuZFRhc2tUb1BhZ2UodGFza09iamVjdCwgdGhpcy50b21vcnJvd3NUYXNrc1BhZ2UpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoSGFuZGxlTmF2QnV0dG9ucy5jdXJyZW50UGFnZSA9PT0gXCJ1cGNvbWluZ1Rhc2tzXCIpIHtcbiAgICAgIHVwY29taW5nVGFza3MuZm9yRWFjaCgodGFza09iamVjdCkgPT5cbiAgICAgICAgdGhpcy5hcHBlbmRUYXNrVG9QYWdlKHRhc2tPYmplY3QsIHRoaXMudXBjb21pbmdUYXNrc1BhZ2UpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoSGFuZGxlTmF2QnV0dG9ucy5jdXJyZW50UGFnZSA9PT0gXCJwcm9qZWN0LXBhZ2VcIikge1xuICAgICAgLy9zZWFyY2ggZm9yIHRoZSBhY3RpdmUgcHJvamVjdCBwYWdlXG4gICAgICBsZXQgYWN0aXZlUGFnZSA9IHByb2plY3RQYWdlcy5maWx0ZXIoKHBhZ2UpID0+IHtcbiAgICAgICAgbGV0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFnZSk7XG4gICAgICAgIHJldHVybiBzdHlsZS5kaXNwbGF5ID09PSBcImZsZXhcIjtcbiAgICAgIH0pO1xuICAgICAgYWN0aXZlUGFnZSA9IGFjdGl2ZVBhZ2VbMF07XG4gICAgICBhY3RpdmVQYWdlLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgIGFsbFRhc2tzLmZvckVhY2goKHRhc2tPYmplY3QpID0+IHtcbiAgICAgICAgaWYgKGBQcm9qZWN0LSR7dGFza09iamVjdC5kYXRhLnByb2plY3R9YCA9PT0gYWN0aXZlUGFnZS5jbGFzc0xpc3RbMV0pIHtcbiAgICAgICAgICB0aGlzLmFwcGVuZFRhc2tUb1BhZ2UodGFza09iamVjdCwgYWN0aXZlUGFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vY2hhbmdlIGNvbG9yIGZyb20gcHJpb3JpdHkgdGl0bGVcbiAgICBjb25zdCB0YXNrUHJpb3JpdHlEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmQtdGFzay1wcmlvcml0eVwiKTtcblxuICAgIHRhc2tQcmlvcml0eURpdi5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICBzd2l0Y2ggKHRhc2suaW5uZXJIVE1MKSB7XG4gICAgICAgIGNhc2UgXCJIaWdoXCI6XG4gICAgICAgICAgdGFzay5jbGFzc0xpc3QuYWRkKFwicHJpb3JpdHktaGlnaC10aXRsZVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIk1lZGl1bVwiOlxuICAgICAgICAgIHRhc2suY2xhc3NMaXN0LmFkZChcInByaW9yaXR5LW1lZGl1bS10aXRsZVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkxvd1wiOlxuICAgICAgICAgIHRhc2suY2xhc3NMaXN0LmFkZChcInByaW9yaXR5LWxvdy10aXRsZVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vc2VhcmNoaW5nIGZvciB0aGUgIGJ1dHRvbnMgdG8gY3JlYXRlIHRoZSBmdW5jdGlvbmFsaXR5IHRvIHNldCB0aGUgYWN0aXZlIHByb2plY3QgYnV0dG9uXG4gICAgY29uc3QgcHJvamVjdE5hdkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIik7XG4gICAgdGhpcy5wcm9qZWN0QnV0dG9ucyA9IHByb2plY3ROYXZCYXIucXVlcnlTZWxlY3RvckFsbChcbiAgICAgIFwiLm5ldy1wcm9qZWN0LW5hdi1idG5cIlxuICAgICk7XG5cbiAgICB0aGlzLmFsbEJ1dHRvbnMgPSBBcnJheS5mcm9tKHRoaXMucHJvamVjdEJ1dHRvbnMpLmNvbmNhdChcbiAgICAgIEFycmF5LmZyb20odGhpcy5uYXZCdXR0b25zKVxuICAgICk7XG5cbiAgICB0aGlzLmFsbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLnNldEFjdGl2ZUJ1dHRvbihldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0QWN0aXZlQnV0dG9uKGFjdGl2ZUJ1dHRvbikge1xuICAgIHRoaXMuYWxsQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICAgIGFjdGl2ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gZm9yIGFwcGVuZGluZyB0aGUgdGFza3NcbiAgYXBwZW5kVGFza1RvUGFnZSh0YXNrT2JqZWN0LCBwYWdlKSB7XG4gICAgdGFza09iamVjdC5lbGVtZW50LmNsYXNzTmFtZSA9IFwidGFzay1jYXJkXCI7XG4gICAgaWYgKHRhc2tPYmplY3QuZGF0YS5pc0NoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIC8vY2hhbmdlIHRpdGxlIHRleHQgZGVjb3JhdGlvbiBhbmQgY29sb3IgYnkgY2hlY2tpbmcgY2hlY2tib3hcbiAgICAgIHRhc2tPYmplY3QuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tlZC1jaGVja2JveC1mb250XCIpO1xuICAgICAgdGFza09iamVjdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkLWNoZWNrYm94LWJhY2tncm91bmRcIik7XG4gICAgICB0YXNrT2JqZWN0LmVsZW1lbnQuY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZChcbiAgICAgICAgXCJjaGVja2VkLWNoZWNrYm94LWJhY2tncm91bmRcIlxuICAgICAgKTtcbiAgICAgIHRhc2tPYmplY3QuZWxlbWVudC5jaGlsZHJlblsxXS5jbGFzc0xpc3QuYWRkKFxuICAgICAgICBcImNoZWNrZWQtY2hlY2tib3gtYmFja2dyb3VuZFwiXG4gICAgICApO1xuICAgICAgdGFza09iamVjdC5lbGVtZW50LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoZWNrZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGFza09iamVjdC5kYXRhLmlzQ2hlY2tlZCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vY2hhbmdlIHRpdGxlIHRleHQgZGVjb3JhdGlvbiBhbmQgY29sb3IgYnkgY2hlY2tpbmcgY2hlY2tib3hcbiAgICAgIHRhc2tPYmplY3QuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tlZC1jaGVja2JveC1mb250XCIpO1xuICAgICAgdGFza09iamVjdC5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2VkLWNoZWNrYm94LWJhY2tncm91bmRcIik7XG4gICAgfVxuXG4gICAgLy9jaGFuZ2UgY29sb3IgZm9yIHRoZSBwcmlvcml0eVxuICAgIHN3aXRjaCAodGFza09iamVjdC5kYXRhLnByaW9yaXR5KSB7XG4gICAgICBjYXNlIFwiSGlnaFwiOlxuICAgICAgICB0YXNrT2JqZWN0LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInByaW9yaXR5LWhpZ2hcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIk1lZGl1bVwiOlxuICAgICAgICB0YXNrT2JqZWN0LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInByaW9yaXR5LW1lZGl1bVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiTG93XCI6XG4gICAgICAgIHRhc2tPYmplY3QuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicHJpb3JpdHktbG93XCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcGFnZS5hcHBlbmRDaGlsZCh0YXNrT2JqZWN0LmVsZW1lbnQpO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gdG8gc2V0IHRoZSBwcmlvcml0aWVzIHRvIG51bWJlciBzbyB0aGUgdGFzayBsaXN0IGNhbiBiZSBvcmRlcmVkIGJ5IHByaW9yaXR5XG4gIHByaW9yaXR5VG9OdW1iZXIocHJpb3JpdHkpIHtcbiAgICBzd2l0Y2ggKHByaW9yaXR5KSB7XG4gICAgICBjYXNlIFwiSGlnaFwiOlxuICAgICAgICByZXR1cm4gMztcblxuICAgICAgY2FzZSBcIk1lZGl1bVwiOlxuICAgICAgICByZXR1cm4gMjtcblxuICAgICAgY2FzZSBcIkxvd1wiOlxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cblxuICAvLyBjcmVhdGUgdGFzayBjYXJkXG4gIGNyZWF0ZVRhc2tDYXJkKHRhc2tEYXRhKSB7XG4gICAgY29uc3QgbmV3VGFza0NhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld1Rhc2tDYXJkLmRhdGFzZXQuaWQgPSB0YXNrRGF0YS5pZDtcbiAgICBuZXdUYXNrQ2FyZC5kYXRhc2V0LmNsYXNzTGlzdCA9IGBQcm9qZWN0LSR7dGFza0RhdGEucHJvamVjdC5yZXBsYWNlKFxuICAgICAgL1xccysvZyxcbiAgICAgIFwiLVwiXG4gICAgKX1gO1xuXG4gICAgLy8gY29udGFpbmVyIGZvciB0aGUgbm90IGV4cGFuZGVkIHBhcnQgb2YgdGhlIHRhc2tcbiAgICBjb25zdCB2aXNpYmxlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdmlzaWJsZUNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImNhcmQtdGFzay12aXNpYmxlXCIpO1xuXG4gICAgLy9jb250YWluZXIgZm9yIHRoZSBoaWRkZW4gdGFzayBwYXJ0XG4gICAgY29uc3QgaGlkZGVuQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaGlkZGVuQ29udGVudC5jbGFzc0xpc3QuYWRkKFwiY2FyZC10YXNrLWhpZGRlblwiKTtcbiAgICBoaWRkZW5Db250ZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIC8vY3JlYXRlIGNoZWNrYm94XG4gICAgY29uc3QgY2hlY2tCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY2hlY2tCb3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBjaGVja0JveC5jbGFzc0xpc3QuYWRkKFwiY2FyZC10YXNrLWNoZWNrYm94XCIpO1xuXG4gICAgY2hlY2tCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIC8vZmluZCB0YXNrIHdoaWNoIGdldHMgY2hlY2tlZFxuICAgICAgbGV0IHRhc2tDaGVja2VkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIudGFzay1jYXJkXCIpO1xuICAgICAgbGV0IHRhc2tJZCA9IHRhc2tDaGVja2VkLmRhdGFzZXQuaWQ7XG4gICAgICBsZXQgdGFza0NoaWxkcmVuID0gdGFza0NoZWNrZWQuY2hpbGRyZW5bMF07XG4gICAgICBsZXQgdGFza0NoaWxkcmVuMiA9IHRhc2tDaGVja2VkLmNoaWxkcmVuWzFdO1xuICAgICAgY29uc3QgcHJpb3JpdHlUZXh0ID0gdGFza0NoaWxkcmVuLmNoaWxkcmVuWzJdO1xuXG4gICAgICAvLyBmaW5kaW5nIHRhc2sgd2l0aCB0YXNrSWRcbiAgICAgIGxldCBpbmRleCA9IE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0LmZpbmRJbmRleChcbiAgICAgICAgKHRhc2spID0+IHRhc2suZGF0YS5pZCA9PT0gdGFza0lkXG4gICAgICApO1xuXG4gICAgICBOZXdUYXNrTWFuYWdlci50YXNrTGlzdFtpbmRleF0uZGF0YS5pc0NoZWNrZWQgPSBOZXdUYXNrTWFuYWdlci50YXNrTGlzdFtcbiAgICAgICAgaW5kZXhcbiAgICAgIF0uZGF0YS5pc0NoZWNrZWRcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IHRydWU7XG5cbiAgICAgIGlmIChjaGVja0JveC5jaGVja2VkKSB7XG4gICAgICAgIC8vY2hhbmdlIHRpdGxlIHRleHQgZGVjb3JhdGlvbiBhbmQgY29sb3IgYnkgY2hlY2tpbmcgY2hlY2tib3hcbiAgICAgICAgY2FyZFRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKFwiY2hlY2tlZC1jaGVja2JveC1mb250XCIpO1xuICAgICAgICBjYXJkVGFza1ByaW9yaXR5LmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkLWNoZWNrYm94LWZvbnRcIik7XG4gICAgICAgIG5ld1Rhc2tDYXJkLmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkLWNoZWNrYm94LWJhY2tncm91bmRcIik7XG4gICAgICAgIGNhcmRUYXNrRGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveC1jaGVja2VkXCIpO1xuICAgICAgICBjYXJkVGFza0VkaXRCdG4uY2xhc3NMaXN0LmFkZChcImNoZWNrYm94LWNoZWNrZWRcIik7XG4gICAgICAgIHByaW9yaXR5VGV4dC5jbGFzc0xpc3QuYWRkKFwicHJpb3JpdHktY2hlY2tlZFwiKTtcbiAgICAgICAgdGFza0NoaWxkcmVuLmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkLWNoZWNrYm94LWJhY2tncm91bmRcIik7XG4gICAgICAgIHRhc2tDaGlsZHJlbjIuY2xhc3NMaXN0LmFkZChcImNoZWNrZWQtY2hlY2tib3gtYmFja2dyb3VuZFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hlY2tCb3guY2hlY2tlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2FyZFRhc2tUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tlZC1jaGVja2JveC1mb250XCIpO1xuICAgICAgICBjYXJkVGFza1ByaW9yaXR5LmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2VkLWNoZWNrYm94LWZvbnRcIik7XG4gICAgICAgIG5ld1Rhc2tDYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2VkLWNoZWNrYm94LWJhY2tncm91bmRcIik7XG4gICAgICAgIGNhcmRUYXNrRGVsZXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2JveC1jaGVja2VkXCIpO1xuICAgICAgICBjYXJkVGFza0VkaXRCdG4uY2xhc3NMaXN0LnJlbW92ZShcImNoZWNrYm94LWNoZWNrZWRcIik7XG4gICAgICAgIHByaW9yaXR5VGV4dC5jbGFzc0xpc3QucmVtb3ZlKFwicHJpb3JpdHktY2hlY2tlZFwiKTtcbiAgICAgICAgdGFza0NoaWxkcmVuLmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2VkLWNoZWNrYm94LWJhY2tncm91bmRcIik7XG4gICAgICAgIHRhc2tDaGlsZHJlbjIuY2xhc3NMaXN0LnJlbW92ZShcImNoZWNrZWQtY2hlY2tib3gtYmFja2dyb3VuZFwiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zYXZlVGFza3NUb0xvY2FsU3RvcmFnZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gY3JlYXRlIHRpdGxlIGZpZWxkXG4gICAgY29uc3QgY2FyZFRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBjYXJkVGFza1RpdGxlLnRleHRDb250ZW50ID0gdGFza0RhdGEudGl0bGU7XG4gICAgY2FyZFRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKFwiY2FyZC10YXNrLXRpdGxlXCIpO1xuICAgIC8vc2V0dGluZyBjb2xvciBmb3IgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb25cbiAgICBjYXJkVGFza1RpdGxlLnN0eWxlLmNvbG9yID0gXCJyZ2IoNTksIDU5LCA1OSlcIjtcblxuICAgIC8vIGNyZWF0ZSBwcm9qZWN0IGZpZWxkXG4gICAgY29uc3QgY2FyZFRhc2tQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGNhcmRUYXNrUHJvamVjdC50ZXh0Q29udGVudCA9IGBQcm9qZWN0OiAke3Rhc2tEYXRhLnByb2plY3R9YDtcbiAgICBjYXJkVGFza1Byb2plY3QuY2xhc3NMaXN0LmFkZChcImNhcmQtdGFzay1wcm9qZWN0XCIpO1xuXG4gICAgLy8gY3JlYXRlIGRhdGUgZmllbGRcbiAgICBjb25zdCBjYXJkVGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNhcmRUYXNrRGF0ZS50ZXh0Q29udGVudCA9IGBEdWVEYXRlOiAke3Rhc2tEYXRhLmRhdGV9YDtcbiAgICBjYXJkVGFza0RhdGUuY2xhc3NMaXN0LmFkZChcImNhcmQtdGFzay1kYXRlXCIpO1xuXG4gICAgLy9jcmVhdGUgY29udGFpbmVyIGZvciBwcm9qZWN0IGFuZCBkYXRlXG4gICAgY29uc3QgZGF0ZVByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRhdGVQcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkYXRlLXByb2plY3QtY29udGFpbmVyXCIpO1xuXG4gICAgZGF0ZVByb2plY3RDb250YWluZXIuYXBwZW5kKGNhcmRUYXNrUHJvamVjdCwgY2FyZFRhc2tEYXRlKTtcblxuICAgIC8vIGNyZWF0ZSBzZWxlY3Rpb24gZmllbGRcbiAgICBjb25zdCBjYXJkVGFza1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjYXJkVGFza1ByaW9yaXR5LnRleHRDb250ZW50ID0gdGFza0RhdGEucHJpb3JpdHk7XG4gICAgY2FyZFRhc2tQcmlvcml0eS5jbGFzc0xpc3QuYWRkKFwiY2FyZC10YXNrLXByaW9yaXR5XCIpO1xuICAgIGNhcmRUYXNrUHJpb3JpdHkuc3R5bGUuY29sb3IgPSBcInJnYig1OSwgNTksIDU5KVwiO1xuXG4gICAgLy8gY3JlYXRlIGRlc2NyaXB0aW9uIGZpZWxkXG4gICAgY29uc3QgY2FyZFRhc2tEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZFRhc2tEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGBEZXNjcmlwdGlvbjogJHt0YXNrRGF0YS5kZXNjcmlwdGlvbn1gO1xuICAgIGNhcmRUYXNrRGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcImNhcmQtdGFzay1kZXNjcmlwdGlvblwiKTtcblxuICAgIC8vIGNyZWF0ZSBjb250YWluZXIgZm9yIGRlbGV0ZSBhbmQgY2hhbmdlIGJ1dHRvbnNcbiAgICBjb25zdCBjYXJkVGFza0J0bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2FyZFRhc2tCdG5Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImNhcmQtdGFzay1idG4tY29udGFpbmVyXCIpO1xuXG4gICAgLy9jcmVhdGUgZGVsZXRlIGJ1dHRvbiB3aXRoIHRoZSBmdW5jdGlvbiB0aGUgZGVsZXRlIHRoZSB0YXNrXG4gICAgY29uc3QgY2FyZFRhc2tEZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNhcmRUYXNrRGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJEZWxldGVcIjtcbiAgICBjYXJkVGFza0RlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiY2FyZC10YXNrLWRlbGV0ZS1idG5cIik7XG4gICAgY2FyZFRhc2tEZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvL2dldCB0YXNrIGJ5IHRoZSBjbGFzcyBhbmQgc2V0IGl0IGFzIHRoZSBpZCBmb3IgZmluZGluZyBpdCBpbiB0aGUgdGFza0xpc3QgYXJyYXlcbiAgICAgIGxldCB0YXNrVG9EZWxldGUgPSBldmVudC50YXJnZXQuY2xvc2VzdChcIi50YXNrLWNhcmRcIik7XG4gICAgICBsZXQgdGFza0lkID0gdGFza1RvRGVsZXRlLmRhdGFzZXQuaWQ7XG5cbiAgICAgIC8vIGZpbmRpbmcgdGFzayB3aXRoIHRhc2tJZFxuICAgICAgbGV0IGluZGV4ID0gTmV3VGFza01hbmFnZXIudGFza0xpc3QuZmluZEluZGV4KFxuICAgICAgICAodGFzaykgPT4gdGFzay5kYXRhLmlkID09PSB0YXNrSWRcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGFsbFBhZ2VzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhc2stcGFnZVwiKSk7XG4gICAgICBjb25zdCBhbGxQcm9qZWN0UGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtcGFnZVwiKTtcbiAgICAgIGFsbFByb2plY3RQYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgIGFsbFBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICB9KTtcblxuICAgICAgYWxsUGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcGFnZS5jbGFzc0xpc3QuY29udGFpbnMoXCJwcm9qZWN0LXBhZ2VcIikgJiZcbiAgICAgICAgICBwYWdlLnN0eWxlLmRpc3BsYXkgPT09IFwiZmxleFwiXG4gICAgICAgICkge1xuICAgICAgICAgIC8vZGVsZXRlIHRoZSB0YXNrQ2FyZCBmcm9tIHRoZSBwcm9qZWN0IHBhZ2VzXG4gICAgICAgICAgY29uc3QgdGFza1Byb2plY3QgPSBOZXdUYXNrTWFuYWdlci50YXNrTGlzdFtpbmRleF07XG4gICAgICAgICAgY29uc3QgdGFza1Byb2plY3RYID0gdGFza1Byb2plY3QuZGF0YS5wcm9qZWN0LnJlcGxhY2UoL1xccysvZywgXCItXCIpO1xuXG4gICAgICAgICAgLy9maW5kIHByb2plY3QgcGFnZVxuICAgICAgICAgIGNvbnN0IHByb2plY3RQYWdlVG9EZWxldGVUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIGAuUHJvamVjdC0ke3Rhc2tQcm9qZWN0WH1gXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vZmluZCB0YXNrQ2FyZFxuICAgICAgICAgIGNvbnN0IHRhc2tDYXJkVG9EZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgYFtkYXRhLWNsYXNzLWxpc3Q9XCJQcm9qZWN0LSR7dGFza1Byb2plY3RYfVwiXWBcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vcmVtb3ZlIGZyb20gdGhlIHByb2plY3QgcGFnZVxuICAgICAgICAgIHByb2plY3RQYWdlVG9EZWxldGVUYXNrLnJlbW92ZUNoaWxkKHRhc2tDYXJkVG9EZWxldGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy9kZWxldGUgdGhlIHRhc2sgaW4gdGhlIHRhc2tMaXN0XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuc2F2ZVRhc2tzVG9Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vY3JlYXRlIGVkaXQgYnV0dG9uIHdpdGggZnVuY3Rpb24gdG8gZWRpdCB0aGUgdGFza1xuICAgIGNvbnN0IGNhcmRUYXNrRWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY2FyZFRhc2tFZGl0QnRuLnRleHRDb250ZW50ID0gXCJFZGl0XCI7XG4gICAgY2FyZFRhc2tFZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJjYXJkLXRhc2stZWRpdC1idG5cIik7XG4gICAgLy8gZnVuY3Rpb24gZm9yIGVkaXRpbmcgdGhlIHRhc2tcbiAgICBjYXJkVGFza0VkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvLyBnZXQgdGFzayBvYmplY3RcbiAgICAgIGxldCB0YXNrQ2FyZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLnRhc2stY2FyZFwiKTtcbiAgICAgIGxldCB0YXNrSWQgPSB0YXNrQ2FyZC5kYXRhc2V0LmlkO1xuICAgICAgdGhpcy5lZGl0VGFza0Zvcm0odGFza0lkKTtcbiAgICB9KTtcblxuICAgIG5ld1Rhc2tDYXJkLnN0eWxlLmhlaWdodCA9IFwiNXJlbVwiO1xuXG4gICAgLy9hZGQgZXZlbnQgbGlzdGVuZXIgd2l0aCBmdW5jdGlvbiB0byBleHBhbmQgYSB0YXNrIGNhcmRcbiAgICBuZXdUYXNrQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBjb25zdCBjbGlja2VkVGFza0NhcmQgPSBldmVudC50YXJnZXQuY2xvc2VzdChcIi50YXNrLWNhcmRcIik7XG4gICAgICBjb25zdCBoaWRkZW5DYXJkID0gY2xpY2tlZFRhc2tDYXJkLmNoaWxkcmVuWzFdO1xuXG4gICAgICBsZXQgY2xpY2tlZFRhc2tDYXJkQ2hpbGQgPSBjbGlja2VkVGFza0NhcmQuY2hpbGRyZW5bMF07XG4gICAgICBjb25zdCBwcmlvcml0eVRleHQgPSBjbGlja2VkVGFza0NhcmRDaGlsZC5jaGlsZHJlblsyXTtcblxuICAgICAgaGlkZGVuQ29udGVudC5zdHlsZS5kaXNwbGF5ID1cbiAgICAgICAgaGlkZGVuQ29udGVudC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiZmxleFwiIDogXCJub25lXCI7XG4gICAgICBuZXdUYXNrQ2FyZC5zdHlsZS5oZWlnaHQgPVxuICAgICAgICBuZXdUYXNrQ2FyZC5zdHlsZS5oZWlnaHQgPT09IFwiNXJlbVwiID8gXCJhdXRvXCIgOiBcIjVyZW1cIjtcbiAgICAgIHZpc2libGVDb250ZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkLXRhc2stdmlzaWJsZS1ib3JkZXJcIik7XG5cbiAgICAgIHN3aXRjaCAocHJpb3JpdHlUZXh0LmlubmVySFRNTCkge1xuICAgICAgICBjYXNlIFwiSGlnaFwiOlxuICAgICAgICAgIGNsaWNrZWRUYXNrQ2FyZENoaWxkLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgICAgICAgICBcImNhcmQtdGFzay1iYWNrZ3JvdW5kLWNvbG9yLWhpZ2hcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgaGlkZGVuQ2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuLWJhY2tncm91bmQtY29sb3ItaGlnaFwiKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiTWVkaXVtXCI6XG4gICAgICAgICAgY2xpY2tlZFRhc2tDYXJkQ2hpbGQuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgICAgICAgIFwiY2FyZC10YXNrLWJhY2tncm91bmQtY29sb3ItbWVkaXVtXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGhpZGRlbkNhcmQuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlbi1iYWNrZ3JvdW5kLWNvbG9yLW1lZGl1bVwiKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiTG93XCI6XG4gICAgICAgICAgY2xpY2tlZFRhc2tDYXJkQ2hpbGQuY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgICAgICAgIFwiY2FyZC10YXNrLWJhY2tncm91bmQtY29sb3ItbG93XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGhpZGRlbkNhcmQuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlbi1iYWNrZ3JvdW5kLWNvbG9yLWxvd1wiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGFwcGVuZCBhbGwgZWxlbWVudHNcbiAgICBjYXJkVGFza0J0bkNvbnRhaW5lci5hcHBlbmQoY2FyZFRhc2tEZWxldGVCdG4sIGNhcmRUYXNrRWRpdEJ0bik7XG4gICAgdmlzaWJsZUNvbnRlbnQuYXBwZW5kKGNoZWNrQm94LCBjYXJkVGFza1RpdGxlLCBjYXJkVGFza1ByaW9yaXR5KTtcbiAgICBoaWRkZW5Db250ZW50LmFwcGVuZChcbiAgICAgIGRhdGVQcm9qZWN0Q29udGFpbmVyLFxuICAgICAgY2FyZFRhc2tEZXNjcmlwdGlvbixcbiAgICAgIGNhcmRUYXNrQnRuQ29udGFpbmVyXG4gICAgKTtcblxuICAgIG5ld1Rhc2tDYXJkLmFwcGVuZCh2aXNpYmxlQ29udGVudCwgaGlkZGVuQ29udGVudCk7XG5cbiAgICByZXR1cm4gbmV3VGFza0NhcmQ7XG4gIH1cblxuICBlZGl0VGFza0Zvcm0gPSAodGFza0lkKSA9PiB7XG4gICAgY29uc3QgdGFza09iamVjdCA9IE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0LmZpbmQoXG4gICAgICAodGFzaykgPT4gdGFzay5kYXRhLmlkID09PSB0YXNrSWRcbiAgICApO1xuXG4gICAgaWYgKHRhc2tPYmplY3QpIHtcbiAgICAgIC8vIGJsdXJyZWQgc2NyZWVuIGZvciBiYWNrZ3JvdW5kXG4gICAgICBjb25zdCBibHVycmVkU2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGJsdXJyZWRTY3JlZW4uY2xhc3NMaXN0LmFkZChcImJsdXJyZWQtc2NyZWVuXCIpO1xuICAgICAgLy9jcmVhdGUgZm9ybSBkaXZcbiAgICAgIGNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGVkaXRGb3JtLmNsYXNzTmFtZSA9IFwiZWRpdC1mb3JtXCI7XG4gICAgICAvLyBjcmVhdGUgdGl0bGVcbiAgICAgIGNvbnN0IGVkaXRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgIGVkaXRUaXRsZS50ZXh0Q29udGVudCA9IFwiVGl0bGVcIjtcbiAgICAgIGVkaXRUaXRsZS5jbGFzc05hbWUgPSBcImVkaXQtdGl0bGVcIjtcbiAgICAgIC8vY3JlYXRlIHRpdGxlIGlucHV0IGZpZWxkIHdpdGggdGhlIHZhbHVlIG9mIHRoZSB0YXNrIHRvIGVkaXRcbiAgICAgIGNvbnN0IGVkaXRUaXRsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgZWRpdFRpdGxlSW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LXRpdGxlLWlucHV0XCI7XG4gICAgICBlZGl0VGl0bGVJbnB1dC52YWx1ZSA9IHRhc2tPYmplY3QuZGF0YS50aXRsZTtcbiAgICAgIC8vY3JlYXRlIHByb2plY3QgZmllbGRcbiAgICAgIGNvbnN0IGVkaXRQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgZWRpdFByb2plY3QudGV4dENvbnRlbnQgPSBcIlByb2plY3RcIjtcbiAgICAgIGVkaXRQcm9qZWN0LmNsYXNzTmFtZSA9IFwiZWRpdC1wcm9qZWN0LXRpdGxlXCI7XG4gICAgICAvL2NyZWF0ZSBwcm9qZWN0IHNlbGVjdGlvbiBmaWVsZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgdGFzayB0byBlZGl0XG4gICAgICBjb25zdCBlZGl0UHJvamVjdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcbiAgICAgIGVkaXRQcm9qZWN0SW5wdXQuY2xhc3NOYW1lID0gXCJlZGl0LXByb2plY3QtaW5wdXRcIjtcbiAgICAgIC8vY3JlYXRlIHRoZSBvcHRpb25zIHRvIHNlbGVjdFwiXG4gICAgICBjb25zdCBvcHRpb25FbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3LXByb2plY3QtbmF2LWJ0blwiKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGlubmVySFRNTEFycmF5ID0gb3B0aW9uRWxlbWVudHMubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG5vUHJvamVjdCA9IFwiTm8gUHJvamVjdFwiO1xuXG4gICAgICBpbm5lckhUTUxBcnJheS5wdXNoKG5vUHJvamVjdCk7XG5cbiAgICAgIGlubmVySFRNTEFycmF5LmZvckVhY2goKG9wdGlvblRleHQpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gb3B0aW9uVGV4dDtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gb3B0aW9uVGV4dDtcbiAgICAgICAgZWRpdFByb2plY3RJbnB1dC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vY3JlYXRlIGRhdGVcbiAgICAgIGNvbnN0IGVkaXREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgZWRpdERhdGUudGV4dENvbnRlbnQgPSBcIkRhdGVcIjtcbiAgICAgIGVkaXREYXRlLmNsYXNzTmFtZSA9IFwiZWRpdC1kYXRlXCI7XG4gICAgICAvL2NyZWF0ZSBkYXRlIGlucHV0IGZpZWxkIHdpdGggdGhlIHZhbHVlIG9mIHRoZSB0YXNrIHRvIGVkaXRcbiAgICAgIGNvbnN0IGVkaXREYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBlZGl0RGF0ZUlucHV0LmNsYXNzTmFtZSA9IFwiZWRpdC1kYXRlLWlucHV0XCI7XG4gICAgICBlZGl0RGF0ZUlucHV0LnR5cGUgPSBcImRhdGVcIjtcbiAgICAgIGVkaXREYXRlSW5wdXQudmFsdWUgPSB0YXNrT2JqZWN0LmRhdGEuZGF0ZTtcbiAgICAgIC8vY3JlYXRlIHByaW9yaXR5XG4gICAgICBjb25zdCBlZGl0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICBlZGl0UHJpb3JpdHkudGV4dENvbnRlbnQgPSBcIlByaW9yaXR5XCI7XG4gICAgICBlZGl0UHJpb3JpdHkuY2xhc3NOYW1lID0gXCJlZGl0LXByaW9yaXR5XCI7XG4gICAgICAvL2NyZWF0ZSBwcmlvcml0eSBpbnB1dCBmaWVsZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgdGFzayB0byBlZGl0XG4gICAgICBjb25zdCBlZGl0UHJpb3JpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICBlZGl0UHJpb3JpdHlJbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtcHJpb3JpdHktaW5wdXRcIjtcbiAgICAgIC8vIGNyZWF0ZSB0aGUgb3B0aW9ucyB0byBzZWxlY3RcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXCJIaWdoXCIsIFwiTWVkaXVtXCIsIFwiTG93XCJdO1xuICAgICAgb3B0aW9ucy5mb3JFYWNoKChvcHRpb25UZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IG9wdGlvblRleHQ7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IG9wdGlvblRleHQ7XG4gICAgICAgIGVkaXRQcmlvcml0eUlucHV0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIGVkaXRQcmlvcml0eUlucHV0LnZhbHVlID0gdGFza09iamVjdC5kYXRhLnByaW9yaXR5O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGNyZWF0ZSBkZXNjcmlwdGlvblxuICAgICAgY29uc3QgZWRpdERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgZWRpdERlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gXCJEZXNjcmlwdGlvblwiO1xuICAgICAgZWRpdERlc2NyaXB0aW9uLmNsYXNzTmFtZSA9IFwiZWRpdC1kZXNjcmlwdGlvblwiO1xuICAgICAgLy9jcmVhdGUgZGVzY3JpcHRpb24gaW5wdXQgZmllbGQgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIHRhc2sgdG8gZWRpdFxuICAgICAgY29uc3QgZWRpdERlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgICBlZGl0RGVzY3JpcHRpb25JbnB1dC5jbGFzc05hbWUgPSBcImVkaXQtZGVzY3JpcHRpb24taW5wdXRcIjtcbiAgICAgIGVkaXREZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdGFza09iamVjdC5kYXRhLmRlc2NyaXB0aW9uO1xuICAgICAgLy9jcmVhdGUgYnV0dG9uIGNvbnRhaW5lclxuICAgICAgY29uc3QgZWRpdEJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBlZGl0QnV0dG9uQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwiZWRpdC1idXR0b24tY29udGFpbmVyXCI7XG4gICAgICAvLyBjcmVhdGUgYnV0dG9uIGZvciBzdWJtaXR0aW5nIHRoZSBjaGFuZ2VzXG4gICAgICBjb25zdCBlZGl0U3VibWl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGVkaXRTdWJtaXRCdG4uY2xhc3NOYW1lID0gXCJlZGl0LXN1Ym1pdC1idXR0b25cIjtcbiAgICAgIGVkaXRTdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcblxuICAgICAgLy9hZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGVkaXQgc3VibWl0IGJ1dHRvblxuICAgICAgZWRpdFN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAvL2NoYW5nZSB0aGUgdGFzayB2YWx1ZXMgaW4gdGhlIHRhc2tMaXN0XG4gICAgICAgIGxldCB0YXNrSW5kZXggPSBOZXdUYXNrTWFuYWdlci50YXNrTGlzdC5maW5kSW5kZXgoXG4gICAgICAgICAgKHRhc2spID0+IHRhc2suZGF0YS5pZCA9PT0gdGFza0lkXG4gICAgICAgICk7XG5cbiAgICAgICAgTmV3VGFza01hbmFnZXIudGFza0xpc3RbdGFza0luZGV4XS5kYXRhLnRpdGxlID0gZWRpdFRpdGxlSW5wdXQudmFsdWU7XG4gICAgICAgIE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0W3Rhc2tJbmRleF0uZGF0YS5kYXRlID0gZWRpdERhdGVJbnB1dC52YWx1ZTtcbiAgICAgICAgTmV3VGFza01hbmFnZXIudGFza0xpc3RbdGFza0luZGV4XS5kYXRhLnByb2plY3QgPVxuICAgICAgICAgIGVkaXRQcm9qZWN0SW5wdXQudmFsdWU7XG4gICAgICAgIE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0W3Rhc2tJbmRleF0uZGF0YS5wcmlvcml0eSA9XG4gICAgICAgICAgZWRpdFByaW9yaXR5SW5wdXQudmFsdWU7XG4gICAgICAgIE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0W3Rhc2tJbmRleF0uZGF0YS5kZXNjcmlwdGlvbiA9XG4gICAgICAgICAgZWRpdERlc2NyaXB0aW9uSW5wdXQudmFsdWU7XG5cbiAgICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrRGF0YSBmb3IgdGhlIG5ldyB0YXNrQ2FyZCBhZnRlciBlZGl0aW5nXG4gICAgICAgIGNvbnN0IHRhc2tEYXRhID0ge1xuICAgICAgICAgIHRpdGxlOiBOZXdUYXNrTWFuYWdlci50YXNrTGlzdFt0YXNrSW5kZXhdLmRhdGEudGl0bGUsXG4gICAgICAgICAgZGF0ZTogTmV3VGFza01hbmFnZXIudGFza0xpc3RbdGFza0luZGV4XS5kYXRhLmRhdGUsXG4gICAgICAgICAgcHJvamVjdDogTmV3VGFza01hbmFnZXIudGFza0xpc3RbdGFza0luZGV4XS5kYXRhLnByb2plY3QsXG4gICAgICAgICAgcHJpb3JpdHk6IE5ld1Rhc2tNYW5hZ2VyLnRhc2tMaXN0W3Rhc2tJbmRleF0uZGF0YS5wcmlvcml0eSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogTmV3VGFza01hbmFnZXIudGFza0xpc3RbdGFza0luZGV4XS5kYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIGlkOiB0YXNrSWQsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gY3JlYXRlIG5ldyB0YXNrIENhcmRcbiAgICAgICAgY29uc3QgdXBkYXRlZFRhc2tDYXJkID0gdGhpcy5jcmVhdGVUYXNrQ2FyZCh0YXNrRGF0YSk7XG4gICAgICAgIHVwZGF0ZWRUYXNrQ2FyZC5zdHlsZS5oZWlnaHQgPSBcIjVyZW1cIjtcbiAgICAgICAgTmV3VGFza01hbmFnZXIudGFza0xpc3RbdGFza0luZGV4XS5lbGVtZW50ID0gdXBkYXRlZFRhc2tDYXJkO1xuXG4gICAgICAgIC8vIHJlbW92ZSBmb3JtIGFuZCBibHVycnkgc2NyZWVuXG4gICAgICAgIHRoaXMuY3VycmVudENvbnRlbnQucmVtb3ZlQ2hpbGQoZWRpdEZvcm0pO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb250ZW50LnJlbW92ZUNoaWxkKGJsdXJyZWRTY3JlZW4pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBzY3JlZW5cbiAgICAgICAgdGhpcy5zYXZlVGFza3NUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNjcmVlbigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vY3JlYXRlIGNhbmNlbCBidXR0b25cbiAgICAgIGxldCBlZGl0Q2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGVkaXRDYW5jZWxCdG4uY2xhc3NOYW1lID0gXCJlZGl0LWNhbmNlbC1idXR0b25cIjtcbiAgICAgIGVkaXRDYW5jZWxCdG4udGV4dENvbnRlbnQgPSBcIkNhbmNlbFwiO1xuXG4gICAgICAvLyBhZCBldmVudCBsaXN0ZW5lciB3aXRoIGZ1bmN0aW9uIHRvIHRoZSBjYW5jZWwgYnV0dG9uXG4gICAgICBlZGl0Q2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY3VycmVudENvbnRlbnQucmVtb3ZlQ2hpbGQoZWRpdEZvcm0pO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb250ZW50LnJlbW92ZUNoaWxkKGJsdXJyZWRTY3JlZW4pO1xuICAgICAgICB0aGlzLmZvcm1BY3RpdmUgPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICAvL2FwcGVuZCB0aGUgYnV0dG9ucyB0byB0aGUgYnV0dG9uIGNvbnRhaW5lclxuICAgICAgZWRpdEJ1dHRvbkNvbnRhaW5lci5hcHBlbmQoZWRpdFN1Ym1pdEJ0biwgZWRpdENhbmNlbEJ0bik7XG4gICAgICAvL2FwcGVuZCB0aGUgZWxlbWVudHMgdG8gdGhlIGZvcm1cbiAgICAgIGVkaXRGb3JtLmFwcGVuZChcbiAgICAgICAgZWRpdFRpdGxlLFxuICAgICAgICBlZGl0VGl0bGVJbnB1dCxcbiAgICAgICAgZWRpdFByb2plY3QsXG4gICAgICAgIGVkaXRQcm9qZWN0SW5wdXQsXG4gICAgICAgIGVkaXREYXRlLFxuICAgICAgICBlZGl0RGF0ZUlucHV0LFxuICAgICAgICBlZGl0UHJpb3JpdHksXG4gICAgICAgIGVkaXRQcmlvcml0eUlucHV0LFxuICAgICAgICBlZGl0RGVzY3JpcHRpb24sXG4gICAgICAgIGVkaXREZXNjcmlwdGlvbklucHV0LFxuICAgICAgICBlZGl0QnV0dG9uQ29udGFpbmVyXG4gICAgICApO1xuICAgICAgdGhpcy5jdXJyZW50Q29udGVudC5hcHBlbmQoZWRpdEZvcm0sIGJsdXJyZWRTY3JlZW4pO1xuICAgIH1cbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IE5ld1Rhc2tNYW5hZ2VyO1xuXG4vLyB3ZW5uIGljaCBlaW5lbiB0YXNrIGNoZWNrZSBkYW5uIGRpZSBzaWV0IGVoaW4gdW5kIHdpZWRlciB6dXLDvGNrIHdlY2hzbGUgdWhuZCBkYW5uIHVuY2hlY2tlIGRhbm4gYmxlaWJ0IGRlciBmb250IGR1cmN2aGdlZXN0cmljaHplblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/newTaskManager.js\n");

/***/ }),

/***/ "./src/projectManager.js":
/*!*******************************!*\
  !*** ./src/projectManager.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _DOM__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DOM */ \"./src/DOM.js\");\n/* harmony import */ var _handleViewOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handleViewOptions */ \"./src/handleViewOptions.js\");\n/* harmony import */ var _newTaskManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./newTaskManager */ \"./src/newTaskManager.js\");\n\n\n\n\nclass ProjectManager {\n  constructor(taskManager) {\n    this.taskManager = taskManager;\n\n    this.taskList = _newTaskManager__WEBPACK_IMPORTED_MODULE_2__[\"default\"].taskList;\n    this.newProjectButton = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].newProjectButton;\n    this.projectNav = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].projects;\n    this.initializeEventListeners();\n    this.newProjectForm = false;\n    this.titleInput = null;\n    this.currentContent = _DOM__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentContent;\n    this.projectData = \"\";\n    this.editProjectFormActive = false;\n    this.projectPages = [];\n    this.loadProjectPages();\n    this.projectButtonCount = this.projectPages.length;\n  }\n  // event listener for the new project button\n  initializeEventListeners() {\n    this.newProjectButton.addEventListener(\n      \"click\",\n      this.addNewProject.bind(this)\n    );\n  }\n\n  //function for the input form to create a new project\n  addNewProject() {\n    if (this.newProjectForm) {\n      alert(\"Please fill out the new project form\");\n    } else {\n      const newForm = document.createElement(\"div\");\n      newForm.className = \"project-form\";\n\n      this.titleInput = document.createElement(\"input\");\n      this.titleInput.className = \"project-title-input\";\n      this.titleInput.placeholder = \"Project Title\";\n\n      const buttonContainer = document.createElement(\"div\");\n      buttonContainer.className = \"project-button-container\";\n\n      const saveButton = document.createElement(\"button\");\n      saveButton.className = \"project-save-button\";\n      saveButton.textContent = \"Save\";\n      saveButton.addEventListener(\"click\", () => {\n        this.saveProjectPages();\n        this.createProjectNavLink();\n        this.createProjectPage();\n      });\n\n      const cancelButton = document.createElement(\"button\");\n      cancelButton.className = \"project-cancel-button\";\n      cancelButton.textContent = \"Cancel\";\n      cancelButton.addEventListener(\"click\", this.cancelNewProject.bind(this));\n\n      buttonContainer.append(saveButton, cancelButton);\n      newForm.append(this.titleInput, buttonContainer);\n      //\n      this.projectNav.appendChild(newForm);\n      this.newProjectForm = true;\n    }\n  }\n\n  // function for adding a button with the project title to the nav bar\n  createProjectNavLink(projectTitle) {\n    let title;\n\n    if (projectTitle) {\n      title = projectTitle;\n\n      this.projectData = {\n        title: projectTitle,\n      };\n    } else if (this.titleInput && this.titleInput.value) {\n      title = this.titleInput.value;\n\n      this.projectData = {\n        title: title,\n      };\n    } else {\n      console.log(\"No project title provided\");\n    }\n\n    //create a div for the elements\n    const newProjectDiv = document.createElement(\"div\");\n    newProjectDiv.className = \"new-project-div\";\n\n    //create new button with the value of the input\n    const newNavLink = document.createElement(\"button\");\n    newNavLink.addEventListener(\"click\", (event) => {\n      //which button got clicked / filter ID\n      const projectButton = event.target.closest(\".new-project-nav-btn\");\n      const projectId = projectButton.id;\n      const projectNum = projectId[projectId.length - 1];\n      //page to link\n      const projectPage = document.querySelector(`#projectPage-${projectNum}`);\n\n      //hide all other project pages\n      const projectPagesToHide = document.querySelectorAll(\".project-page\");\n      projectPagesToHide.forEach((page) => {\n        page.style.display = \"none\";\n      });\n\n      //hide all task pages\n      const taskPages = document.querySelectorAll(\".task-page\");\n      taskPages.forEach((page) => {\n        page.style.display = \"none\";\n      });\n\n      //display the wanted page\n      projectPage.style.display = \"flex\";\n\n      _handleViewOptions__WEBPACK_IMPORTED_MODULE_1__[\"default\"].currentPage = \"project-page\";\n      this.taskManager.updateScreen();\n    });\n\n    newNavLink.className = \"new-project-nav-btn\";\n    this.projectButtonCount++;\n    //set id for customization the project button for later use\n    newNavLink.setAttribute(\"id\", `project-${this.projectButtonCount}`);\n\n    //save data in projectPages for later loading from the storage\n    this.projectData.id = newNavLink.id;\n    this.projectPages.push(this.projectData);\n\n    //add an icon before the title\n    const icon = document.createElement(\"img\");\n    icon.className = \"project-icon\";\n    icon.src = \"../src/media/target.png\";\n\n    newNavLink.appendChild(icon);\n\n    const buttonTitle = document.createTextNode(title);\n    newNavLink.appendChild(buttonTitle);\n\n    //create edit and delete buttons\n    const buttonContainer = document.createElement(\"div\");\n    buttonContainer.className = \"project-buttons\";\n\n    //delete project nav button\n    const deleteProject = document.createElement(\"button\");\n    deleteProject.className = \"delete-project\";\n\n    deleteProject.classList.add(`project-${this.projectButtonCount}`);\n    deleteProject.textContent = \"Delete\";\n\n    //function to delete the project\n    deleteProject.addEventListener(\"click\", (event) => {\n      const projectButtonToDelete = event.target.closest(\".project-container\");\n\n      //find linked page to delete\n      const projectClass = event.target.classList[1];\n      console.log(projectClass);\n      const projectClassNum = projectClass[projectClass.length - 1];\n      const pageToDelete = document.querySelector(\n        `#projectPage-${projectClassNum}`\n      );\n\n      //search for title to delete project from the projectPages\n      let searchedClass = projectClass;\n      let index = this.projectPages.findIndex(\n        (page) => page.id === searchedClass\n      );\n\n      //delete project from the array\n      this.projectPages.splice(index, 1);\n      //update the saved objects\n      this.saveProjectPages();\n\n      this.projectNav.removeChild(projectButtonToDelete);\n      this.currentContent.removeChild(pageToDelete);\n      this.projectButtonCount--;\n    });\n\n    const editProject = document.createElement(\"button\");\n    editProject.className = \"edit-project\";\n    editProject.classList.add(`project-${this.projectButtonCount}`);\n    editProject.textContent = \"Edit\";\n    editProject.addEventListener(\"click\", this.editProjectForm.bind(this));\n\n    buttonContainer.append(editProject, deleteProject);\n\n    //container to style it properly\n    const container = document.createElement(\"div\");\n    container.className = \"project-container\";\n\n    newProjectDiv.append(newNavLink);\n    container.append(newProjectDiv, buttonContainer);\n\n    this.projectNav.appendChild(container);\n\n    //only remove the form when it is active\n    if (this.newProjectForm) {\n      // find the project form to remove it from the DOM\n      const projectForm = document.querySelector(\".project-form\");\n      this.projectNav.removeChild(projectForm);\n\n      // set back the value of the project form so a new one can pop up\n      this.newProjectForm = false;\n    }\n\n    this.saveProjectPages();\n  }\n\n  createProjectPage(projectTitle) {\n    let title;\n\n    if (projectTitle) {\n      title = projectTitle.replace(/\\s+/g, \"-\");\n    } else if (this.titleInput && this.titleInput.value) {\n      title = this.titleInput.value.replace(/\\s+/g, \"-\");\n    } else {\n      console.error(\"No project title provided\");\n      return;\n    }\n\n    const projectPageId = `projectPage-${this.projectButtonCount}`;\n    const existingPage = document.getElementById(projectPageId);\n    if (!existingPage) {\n      const projectPage = document.createElement(\"div\");\n      projectPage.setAttribute(\"id\", projectPageId);\n      projectPage.className = `project-page Project-${title}`;\n      projectPage.style.display = \"none\";\n      this.currentContent.appendChild(projectPage);\n    }\n  }\n\n  // function for canceling the new project form\n  cancelNewProject() {\n    this.titleInput.value = \"\";\n    const projectForm = document.querySelector(\".project-form\");\n    this.projectNav.removeChild(projectForm);\n    this.newProjectForm = false;\n  }\n\n  editProjectForm(event) {\n    if (this.editProjectFormActive === false) {\n      this.editProjectFormActive = true;\n\n      //searching for the right project to edit\n      const editButtonClass = event.target.classList[1];\n      const projectToChange = document.querySelector(`#${editButtonClass}`);\n\n      const editForm = document.createElement(\"div\");\n      editForm.className = \"edit-project-form\";\n\n      const editTitle = document.createElement(\"input\");\n      editTitle.className = \"edit-project-title\";\n      editTitle.placeholder = \"new title here\";\n\n      const parentElement = document.querySelector(\".projects\");\n      const targetElement = parentElement.children[1];\n\n      const btnContainer = document.createElement(\"div\");\n      btnContainer.className = \"edit-project-btn-container\";\n\n      const saveChangesButton = document.createElement(\"button\");\n      saveChangesButton.className = \"save-project-changes-button\";\n      saveChangesButton.textContent = \"Save\";\n\n      saveChangesButton.addEventListener(\"click\", () => {\n        projectToChange.textContent = editTitle.value;\n        parentElement.removeChild(editForm);\n        this.editProjectFormActive = false;\n      });\n\n      const cancelChangesButton = document.createElement(\"button\");\n      cancelChangesButton.className = \"cancel-project-changes-button\";\n      cancelChangesButton.textContent = \"Cancel\";\n\n      cancelChangesButton.addEventListener(\"click\", () => {\n        parentElement.removeChild(editForm);\n        this.editProjectFormActive = false;\n      });\n\n      btnContainer.append(saveChangesButton, cancelChangesButton);\n\n      editForm.append(editTitle, btnContainer);\n\n      parentElement.insertBefore(editForm, targetElement);\n    }\n  }\n\n  saveProjectPages() {\n    const projectButtons = this.projectPages.map((project) => project.title);\n    localStorage.setItem(\"projects\", JSON.stringify(projectButtons));\n  }\n\n  loadProjectPages() {\n    const savedButtons = localStorage.getItem(\"projects\");\n\n    if (savedButtons) {\n      const titles = JSON.parse(savedButtons);\n\n      titles.forEach((title, index) => {\n        this.projectButtonCount = index;\n        this.createProjectNavLink(title);\n        this.createProjectPage(title);\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProjectManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcHJvamVjdE1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnQztBQUNtQjtBQUNMOztBQUU5QztBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLHVEQUFjO0FBQ2xDLDRCQUE0Qiw0Q0FBVztBQUN2QyxzQkFBc0IsNENBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDRDQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxXQUFXOztBQUU1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUEsTUFBTSwwREFBZ0I7QUFDdEI7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx3QkFBd0I7O0FBRXJFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLHdCQUF3QjtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSx5Q0FBeUMsd0JBQXdCO0FBQ2pFO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLHlDQUF5Qyx3QkFBd0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsTUFBTTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlEQUF5RCxnQkFBZ0I7O0FBRXpFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBLGlFQUFlLGNBQWMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tLXRvcC8uL3NyYy9wcm9qZWN0TWFuYWdlci5qcz9kZDJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEb21FbGVtZW50cyBmcm9tIFwiLi9ET01cIjtcbmltcG9ydCBIYW5kbGVOYXZCdXR0b25zIGZyb20gXCIuL2hhbmRsZVZpZXdPcHRpb25zXCI7XG5pbXBvcnQgTmV3VGFza01hbmFnZXIgZnJvbSBcIi4vbmV3VGFza01hbmFnZXJcIjtcblxuY2xhc3MgUHJvamVjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcih0YXNrTWFuYWdlcikge1xuICAgIHRoaXMudGFza01hbmFnZXIgPSB0YXNrTWFuYWdlcjtcblxuICAgIHRoaXMudGFza0xpc3QgPSBOZXdUYXNrTWFuYWdlci50YXNrTGlzdDtcbiAgICB0aGlzLm5ld1Byb2plY3RCdXR0b24gPSBEb21FbGVtZW50cy5uZXdQcm9qZWN0QnV0dG9uO1xuICAgIHRoaXMucHJvamVjdE5hdiA9IERvbUVsZW1lbnRzLnByb2plY3RzO1xuICAgIHRoaXMuaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5uZXdQcm9qZWN0Rm9ybSA9IGZhbHNlO1xuICAgIHRoaXMudGl0bGVJbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50Q29udGVudCA9IERvbUVsZW1lbnRzLmN1cnJlbnRDb250ZW50O1xuICAgIHRoaXMucHJvamVjdERhdGEgPSBcIlwiO1xuICAgIHRoaXMuZWRpdFByb2plY3RGb3JtQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5wcm9qZWN0UGFnZXMgPSBbXTtcbiAgICB0aGlzLmxvYWRQcm9qZWN0UGFnZXMoKTtcbiAgICB0aGlzLnByb2plY3RCdXR0b25Db3VudCA9IHRoaXMucHJvamVjdFBhZ2VzLmxlbmd0aDtcbiAgfVxuICAvLyBldmVudCBsaXN0ZW5lciBmb3IgdGhlIG5ldyBwcm9qZWN0IGJ1dHRvblxuICBpbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5uZXdQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0aGlzLmFkZE5ld1Byb2plY3QuYmluZCh0aGlzKVxuICAgICk7XG4gIH1cblxuICAvL2Z1bmN0aW9uIGZvciB0aGUgaW5wdXQgZm9ybSB0byBjcmVhdGUgYSBuZXcgcHJvamVjdFxuICBhZGROZXdQcm9qZWN0KCkge1xuICAgIGlmICh0aGlzLm5ld1Byb2plY3RGb3JtKSB7XG4gICAgICBhbGVydChcIlBsZWFzZSBmaWxsIG91dCB0aGUgbmV3IHByb2plY3QgZm9ybVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmV3Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBuZXdGb3JtLmNsYXNzTmFtZSA9IFwicHJvamVjdC1mb3JtXCI7XG5cbiAgICAgIHRoaXMudGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIHRoaXMudGl0bGVJbnB1dC5jbGFzc05hbWUgPSBcInByb2plY3QtdGl0bGUtaW5wdXRcIjtcbiAgICAgIHRoaXMudGl0bGVJbnB1dC5wbGFjZWhvbGRlciA9IFwiUHJvamVjdCBUaXRsZVwiO1xuXG4gICAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgYnV0dG9uQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwicHJvamVjdC1idXR0b24tY29udGFpbmVyXCI7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgc2F2ZUJ1dHRvbi5jbGFzc05hbWUgPSBcInByb2plY3Qtc2F2ZS1idXR0b25cIjtcbiAgICAgIHNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgICAgIHNhdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5zYXZlUHJvamVjdFBhZ2VzKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUHJvamVjdE5hdkxpbmsoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9qZWN0UGFnZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBjYW5jZWxCdXR0b24uY2xhc3NOYW1lID0gXCJwcm9qZWN0LWNhbmNlbC1idXR0b25cIjtcbiAgICAgIGNhbmNlbEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ2FuY2VsXCI7XG4gICAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2FuY2VsTmV3UHJvamVjdC5iaW5kKHRoaXMpKTtcblxuICAgICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZChzYXZlQnV0dG9uLCBjYW5jZWxCdXR0b24pO1xuICAgICAgbmV3Rm9ybS5hcHBlbmQodGhpcy50aXRsZUlucHV0LCBidXR0b25Db250YWluZXIpO1xuICAgICAgLy9cbiAgICAgIHRoaXMucHJvamVjdE5hdi5hcHBlbmRDaGlsZChuZXdGb3JtKTtcbiAgICAgIHRoaXMubmV3UHJvamVjdEZvcm0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIGZ1bmN0aW9uIGZvciBhZGRpbmcgYSBidXR0b24gd2l0aCB0aGUgcHJvamVjdCB0aXRsZSB0byB0aGUgbmF2IGJhclxuICBjcmVhdGVQcm9qZWN0TmF2TGluayhwcm9qZWN0VGl0bGUpIHtcbiAgICBsZXQgdGl0bGU7XG5cbiAgICBpZiAocHJvamVjdFRpdGxlKSB7XG4gICAgICB0aXRsZSA9IHByb2plY3RUaXRsZTtcblxuICAgICAgdGhpcy5wcm9qZWN0RGF0YSA9IHtcbiAgICAgICAgdGl0bGU6IHByb2plY3RUaXRsZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLnRpdGxlSW5wdXQgJiYgdGhpcy50aXRsZUlucHV0LnZhbHVlKSB7XG4gICAgICB0aXRsZSA9IHRoaXMudGl0bGVJbnB1dC52YWx1ZTtcblxuICAgICAgdGhpcy5wcm9qZWN0RGF0YSA9IHtcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJObyBwcm9qZWN0IHRpdGxlIHByb3ZpZGVkXCIpO1xuICAgIH1cblxuICAgIC8vY3JlYXRlIGEgZGl2IGZvciB0aGUgZWxlbWVudHNcbiAgICBjb25zdCBuZXdQcm9qZWN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuZXdQcm9qZWN0RGl2LmNsYXNzTmFtZSA9IFwibmV3LXByb2plY3QtZGl2XCI7XG5cbiAgICAvL2NyZWF0ZSBuZXcgYnV0dG9uIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBpbnB1dFxuICAgIGNvbnN0IG5ld05hdkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIG5ld05hdkxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgLy93aGljaCBidXR0b24gZ290IGNsaWNrZWQgLyBmaWx0ZXIgSURcbiAgICAgIGNvbnN0IHByb2plY3RCdXR0b24gPSBldmVudC50YXJnZXQuY2xvc2VzdChcIi5uZXctcHJvamVjdC1uYXYtYnRuXCIpO1xuICAgICAgY29uc3QgcHJvamVjdElkID0gcHJvamVjdEJ1dHRvbi5pZDtcbiAgICAgIGNvbnN0IHByb2plY3ROdW0gPSBwcm9qZWN0SWRbcHJvamVjdElkLmxlbmd0aCAtIDFdO1xuICAgICAgLy9wYWdlIHRvIGxpbmtcbiAgICAgIGNvbnN0IHByb2plY3RQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3Byb2plY3RQYWdlLSR7cHJvamVjdE51bX1gKTtcblxuICAgICAgLy9oaWRlIGFsbCBvdGhlciBwcm9qZWN0IHBhZ2VzXG4gICAgICBjb25zdCBwcm9qZWN0UGFnZXNUb0hpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtcGFnZVwiKTtcbiAgICAgIHByb2plY3RQYWdlc1RvSGlkZS5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgIHBhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfSk7XG5cbiAgICAgIC8vaGlkZSBhbGwgdGFzayBwYWdlc1xuICAgICAgY29uc3QgdGFza1BhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YXNrLXBhZ2VcIik7XG4gICAgICB0YXNrUGFnZXMuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICBwYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH0pO1xuXG4gICAgICAvL2Rpc3BsYXkgdGhlIHdhbnRlZCBwYWdlXG4gICAgICBwcm9qZWN0UGFnZS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cbiAgICAgIEhhbmRsZU5hdkJ1dHRvbnMuY3VycmVudFBhZ2UgPSBcInByb2plY3QtcGFnZVwiO1xuICAgICAgdGhpcy50YXNrTWFuYWdlci51cGRhdGVTY3JlZW4oKTtcbiAgICB9KTtcblxuICAgIG5ld05hdkxpbmsuY2xhc3NOYW1lID0gXCJuZXctcHJvamVjdC1uYXYtYnRuXCI7XG4gICAgdGhpcy5wcm9qZWN0QnV0dG9uQ291bnQrKztcbiAgICAvL3NldCBpZCBmb3IgY3VzdG9taXphdGlvbiB0aGUgcHJvamVjdCBidXR0b24gZm9yIGxhdGVyIHVzZVxuICAgIG5ld05hdkxpbmsuc2V0QXR0cmlidXRlKFwiaWRcIiwgYHByb2plY3QtJHt0aGlzLnByb2plY3RCdXR0b25Db3VudH1gKTtcblxuICAgIC8vc2F2ZSBkYXRhIGluIHByb2plY3RQYWdlcyBmb3IgbGF0ZXIgbG9hZGluZyBmcm9tIHRoZSBzdG9yYWdlXG4gICAgdGhpcy5wcm9qZWN0RGF0YS5pZCA9IG5ld05hdkxpbmsuaWQ7XG4gICAgdGhpcy5wcm9qZWN0UGFnZXMucHVzaCh0aGlzLnByb2plY3REYXRhKTtcblxuICAgIC8vYWRkIGFuIGljb24gYmVmb3JlIHRoZSB0aXRsZVxuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGljb24uY2xhc3NOYW1lID0gXCJwcm9qZWN0LWljb25cIjtcbiAgICBpY29uLnNyYyA9IFwiLi4vc3JjL21lZGlhL3RhcmdldC5wbmdcIjtcblxuICAgIG5ld05hdkxpbmsuYXBwZW5kQ2hpbGQoaWNvbik7XG5cbiAgICBjb25zdCBidXR0b25UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRpdGxlKTtcbiAgICBuZXdOYXZMaW5rLmFwcGVuZENoaWxkKGJ1dHRvblRpdGxlKTtcblxuICAgIC8vY3JlYXRlIGVkaXQgYW5kIGRlbGV0ZSBidXR0b25zXG4gICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBidXR0b25Db250YWluZXIuY2xhc3NOYW1lID0gXCJwcm9qZWN0LWJ1dHRvbnNcIjtcblxuICAgIC8vZGVsZXRlIHByb2plY3QgbmF2IGJ1dHRvblxuICAgIGNvbnN0IGRlbGV0ZVByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGRlbGV0ZVByb2plY3QuY2xhc3NOYW1lID0gXCJkZWxldGUtcHJvamVjdFwiO1xuXG4gICAgZGVsZXRlUHJvamVjdC5jbGFzc0xpc3QuYWRkKGBwcm9qZWN0LSR7dGhpcy5wcm9qZWN0QnV0dG9uQ291bnR9YCk7XG4gICAgZGVsZXRlUHJvamVjdC50ZXh0Q29udGVudCA9IFwiRGVsZXRlXCI7XG5cbiAgICAvL2Z1bmN0aW9uIHRvIGRlbGV0ZSB0aGUgcHJvamVjdFxuICAgIGRlbGV0ZVByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcHJvamVjdEJ1dHRvblRvRGVsZXRlID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIucHJvamVjdC1jb250YWluZXJcIik7XG5cbiAgICAgIC8vZmluZCBsaW5rZWQgcGFnZSB0byBkZWxldGVcbiAgICAgIGNvbnN0IHByb2plY3RDbGFzcyA9IGV2ZW50LnRhcmdldC5jbGFzc0xpc3RbMV07XG4gICAgICBjb25zb2xlLmxvZyhwcm9qZWN0Q2xhc3MpO1xuICAgICAgY29uc3QgcHJvamVjdENsYXNzTnVtID0gcHJvamVjdENsYXNzW3Byb2plY3RDbGFzcy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IHBhZ2VUb0RlbGV0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGAjcHJvamVjdFBhZ2UtJHtwcm9qZWN0Q2xhc3NOdW19YFxuICAgICAgKTtcblxuICAgICAgLy9zZWFyY2ggZm9yIHRpdGxlIHRvIGRlbGV0ZSBwcm9qZWN0IGZyb20gdGhlIHByb2plY3RQYWdlc1xuICAgICAgbGV0IHNlYXJjaGVkQ2xhc3MgPSBwcm9qZWN0Q2xhc3M7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLnByb2plY3RQYWdlcy5maW5kSW5kZXgoXG4gICAgICAgIChwYWdlKSA9PiBwYWdlLmlkID09PSBzZWFyY2hlZENsYXNzXG4gICAgICApO1xuXG4gICAgICAvL2RlbGV0ZSBwcm9qZWN0IGZyb20gdGhlIGFycmF5XG4gICAgICB0aGlzLnByb2plY3RQYWdlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgLy91cGRhdGUgdGhlIHNhdmVkIG9iamVjdHNcbiAgICAgIHRoaXMuc2F2ZVByb2plY3RQYWdlcygpO1xuXG4gICAgICB0aGlzLnByb2plY3ROYXYucmVtb3ZlQ2hpbGQocHJvamVjdEJ1dHRvblRvRGVsZXRlKTtcbiAgICAgIHRoaXMuY3VycmVudENvbnRlbnQucmVtb3ZlQ2hpbGQocGFnZVRvRGVsZXRlKTtcbiAgICAgIHRoaXMucHJvamVjdEJ1dHRvbkNvdW50LS07XG4gICAgfSk7XG5cbiAgICBjb25zdCBlZGl0UHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZWRpdFByb2plY3QuY2xhc3NOYW1lID0gXCJlZGl0LXByb2plY3RcIjtcbiAgICBlZGl0UHJvamVjdC5jbGFzc0xpc3QuYWRkKGBwcm9qZWN0LSR7dGhpcy5wcm9qZWN0QnV0dG9uQ291bnR9YCk7XG4gICAgZWRpdFByb2plY3QudGV4dENvbnRlbnQgPSBcIkVkaXRcIjtcbiAgICBlZGl0UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5lZGl0UHJvamVjdEZvcm0uYmluZCh0aGlzKSk7XG5cbiAgICBidXR0b25Db250YWluZXIuYXBwZW5kKGVkaXRQcm9qZWN0LCBkZWxldGVQcm9qZWN0KTtcblxuICAgIC8vY29udGFpbmVyIHRvIHN0eWxlIGl0IHByb3Blcmx5XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJwcm9qZWN0LWNvbnRhaW5lclwiO1xuXG4gICAgbmV3UHJvamVjdERpdi5hcHBlbmQobmV3TmF2TGluayk7XG4gICAgY29udGFpbmVyLmFwcGVuZChuZXdQcm9qZWN0RGl2LCBidXR0b25Db250YWluZXIpO1xuXG4gICAgdGhpcy5wcm9qZWN0TmF2LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICAvL29ubHkgcmVtb3ZlIHRoZSBmb3JtIHdoZW4gaXQgaXMgYWN0aXZlXG4gICAgaWYgKHRoaXMubmV3UHJvamVjdEZvcm0pIHtcbiAgICAgIC8vIGZpbmQgdGhlIHByb2plY3QgZm9ybSB0byByZW1vdmUgaXQgZnJvbSB0aGUgRE9NXG4gICAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtXCIpO1xuICAgICAgdGhpcy5wcm9qZWN0TmF2LnJlbW92ZUNoaWxkKHByb2plY3RGb3JtKTtcblxuICAgICAgLy8gc2V0IGJhY2sgdGhlIHZhbHVlIG9mIHRoZSBwcm9qZWN0IGZvcm0gc28gYSBuZXcgb25lIGNhbiBwb3AgdXBcbiAgICAgIHRoaXMubmV3UHJvamVjdEZvcm0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNhdmVQcm9qZWN0UGFnZXMoKTtcbiAgfVxuXG4gIGNyZWF0ZVByb2plY3RQYWdlKHByb2plY3RUaXRsZSkge1xuICAgIGxldCB0aXRsZTtcblxuICAgIGlmIChwcm9qZWN0VGl0bGUpIHtcbiAgICAgIHRpdGxlID0gcHJvamVjdFRpdGxlLnJlcGxhY2UoL1xccysvZywgXCItXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50aXRsZUlucHV0ICYmIHRoaXMudGl0bGVJbnB1dC52YWx1ZSkge1xuICAgICAgdGl0bGUgPSB0aGlzLnRpdGxlSW5wdXQudmFsdWUucmVwbGFjZSgvXFxzKy9nLCBcIi1cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBwcm9qZWN0IHRpdGxlIHByb3ZpZGVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByb2plY3RQYWdlSWQgPSBgcHJvamVjdFBhZ2UtJHt0aGlzLnByb2plY3RCdXR0b25Db3VudH1gO1xuICAgIGNvbnN0IGV4aXN0aW5nUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByb2plY3RQYWdlSWQpO1xuICAgIGlmICghZXhpc3RpbmdQYWdlKSB7XG4gICAgICBjb25zdCBwcm9qZWN0UGFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBwcm9qZWN0UGFnZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBwcm9qZWN0UGFnZUlkKTtcbiAgICAgIHByb2plY3RQYWdlLmNsYXNzTmFtZSA9IGBwcm9qZWN0LXBhZ2UgUHJvamVjdC0ke3RpdGxlfWA7XG4gICAgICBwcm9qZWN0UGFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB0aGlzLmN1cnJlbnRDb250ZW50LmFwcGVuZENoaWxkKHByb2plY3RQYWdlKTtcbiAgICB9XG4gIH1cblxuICAvLyBmdW5jdGlvbiBmb3IgY2FuY2VsaW5nIHRoZSBuZXcgcHJvamVjdCBmb3JtXG4gIGNhbmNlbE5ld1Byb2plY3QoKSB7XG4gICAgdGhpcy50aXRsZUlucHV0LnZhbHVlID0gXCJcIjtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC1mb3JtXCIpO1xuICAgIHRoaXMucHJvamVjdE5hdi5yZW1vdmVDaGlsZChwcm9qZWN0Rm9ybSk7XG4gICAgdGhpcy5uZXdQcm9qZWN0Rm9ybSA9IGZhbHNlO1xuICB9XG5cbiAgZWRpdFByb2plY3RGb3JtKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZWRpdFByb2plY3RGb3JtQWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5lZGl0UHJvamVjdEZvcm1BY3RpdmUgPSB0cnVlO1xuXG4gICAgICAvL3NlYXJjaGluZyBmb3IgdGhlIHJpZ2h0IHByb2plY3QgdG8gZWRpdFxuICAgICAgY29uc3QgZWRpdEJ1dHRvbkNsYXNzID0gZXZlbnQudGFyZ2V0LmNsYXNzTGlzdFsxXTtcbiAgICAgIGNvbnN0IHByb2plY3RUb0NoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VkaXRCdXR0b25DbGFzc31gKTtcblxuICAgICAgY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZWRpdEZvcm0uY2xhc3NOYW1lID0gXCJlZGl0LXByb2plY3QtZm9ybVwiO1xuXG4gICAgICBjb25zdCBlZGl0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBlZGl0VGl0bGUuY2xhc3NOYW1lID0gXCJlZGl0LXByb2plY3QtdGl0bGVcIjtcbiAgICAgIGVkaXRUaXRsZS5wbGFjZWhvbGRlciA9IFwibmV3IHRpdGxlIGhlcmVcIjtcblxuICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIik7XG4gICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gcGFyZW50RWxlbWVudC5jaGlsZHJlblsxXTtcblxuICAgICAgY29uc3QgYnRuQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGJ0bkNvbnRhaW5lci5jbGFzc05hbWUgPSBcImVkaXQtcHJvamVjdC1idG4tY29udGFpbmVyXCI7XG5cbiAgICAgIGNvbnN0IHNhdmVDaGFuZ2VzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIHNhdmVDaGFuZ2VzQnV0dG9uLmNsYXNzTmFtZSA9IFwic2F2ZS1wcm9qZWN0LWNoYW5nZXMtYnV0dG9uXCI7XG4gICAgICBzYXZlQ2hhbmdlc0J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuXG4gICAgICBzYXZlQ2hhbmdlc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBwcm9qZWN0VG9DaGFuZ2UudGV4dENvbnRlbnQgPSBlZGl0VGl0bGUudmFsdWU7XG4gICAgICAgIHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWRpdEZvcm0pO1xuICAgICAgICB0aGlzLmVkaXRQcm9qZWN0Rm9ybUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhbmNlbENoYW5nZXNCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgY2FuY2VsQ2hhbmdlc0J1dHRvbi5jbGFzc05hbWUgPSBcImNhbmNlbC1wcm9qZWN0LWNoYW5nZXMtYnV0dG9uXCI7XG4gICAgICBjYW5jZWxDaGFuZ2VzQnV0dG9uLnRleHRDb250ZW50ID0gXCJDYW5jZWxcIjtcblxuICAgICAgY2FuY2VsQ2hhbmdlc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBwYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVkaXRGb3JtKTtcbiAgICAgICAgdGhpcy5lZGl0UHJvamVjdEZvcm1BY3RpdmUgPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBidG5Db250YWluZXIuYXBwZW5kKHNhdmVDaGFuZ2VzQnV0dG9uLCBjYW5jZWxDaGFuZ2VzQnV0dG9uKTtcblxuICAgICAgZWRpdEZvcm0uYXBwZW5kKGVkaXRUaXRsZSwgYnRuQ29udGFpbmVyKTtcblxuICAgICAgcGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZWRpdEZvcm0sIHRhcmdldEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHNhdmVQcm9qZWN0UGFnZXMoKSB7XG4gICAgY29uc3QgcHJvamVjdEJ1dHRvbnMgPSB0aGlzLnByb2plY3RQYWdlcy5tYXAoKHByb2plY3QpID0+IHByb2plY3QudGl0bGUpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdHNcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdEJ1dHRvbnMpKTtcbiAgfVxuXG4gIGxvYWRQcm9qZWN0UGFnZXMoKSB7XG4gICAgY29uc3Qgc2F2ZWRCdXR0b25zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c1wiKTtcblxuICAgIGlmIChzYXZlZEJ1dHRvbnMpIHtcbiAgICAgIGNvbnN0IHRpdGxlcyA9IEpTT04ucGFyc2Uoc2F2ZWRCdXR0b25zKTtcblxuICAgICAgdGl0bGVzLmZvckVhY2goKHRpdGxlLCBpbmRleCkgPT4ge1xuICAgICAgICB0aGlzLnByb2plY3RCdXR0b25Db3VudCA9IGluZGV4O1xuICAgICAgICB0aGlzLmNyZWF0ZVByb2plY3ROYXZMaW5rKHRpdGxlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9qZWN0UGFnZSh0aXRsZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvamVjdE1hbmFnZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/projectManager.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;